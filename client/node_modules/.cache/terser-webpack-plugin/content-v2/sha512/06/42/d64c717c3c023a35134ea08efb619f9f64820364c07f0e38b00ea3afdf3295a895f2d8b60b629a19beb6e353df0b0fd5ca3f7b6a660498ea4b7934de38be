{"code":"(this[\"webpackJsonpmy-app\"]=this[\"webpackJsonpmy-app\"]||[]).push([[0],{113:function(e,t,n){},137:function(e,t){},139:function(e,t){},147:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){\"use strict\";n.r(t);var c,a=n(1),o=n.n(a),r=n(43),s=n.n(r),i=(n(84),n(35)),u=n(4),l=n(0),d=function(e){var t=e.createRoomButton,n=void 0!==t&&t,c=e.buttonText,a=e.onClickHandler,o=n?\"create_room_button\":\"join_room_button\";return Object(l.jsx)(\"button\",{className:o,onClick:a,children:c})},j=function(){var e=Object(u.f)();return Object(l.jsxs)(\"div\",{className:\"connecting_buttons_container\",children:[Object(l.jsx)(d,{buttonText:\"Join a meeting\",onClickHandler:function(){e.push(\"/join-room\")}}),Object(l.jsx)(d,{createRoomButton:!0,buttonText:\"Host a meeting\",onClickHandler:function(){e.push(\"/join-room?host=true\")}})]})},O=n(6),b={SET_IS_ROOM_HOST:\"SET_IS_ROOM_HOST\",SET_CONNECT_ONLY_WITH_AUDIO:\"SET_CONNECT_ONLY_WITH_AUDIO\",SET_IDENTITY:\"SET_IDENTITY\",SET_ROOM_ID:\"SET_ROOM_ID\",SET_SHOW_OVERLAY:\"SET_SHOW_OVERLAY\",SET_PARTICIPANTS:\"SET_PARTICIPANTS\",SET_MESSAGES:\"SET_MESSAGES\",SET_ACTIVE_CONVERSATION:\"SET_ACTIVE_CONVERSATION\",SET_DIRECT_CHAT_HISTORY:\"SET_DIRECT_CHAT_HISTORY\",SET_SOCKET_ID:\"SET_SOCKET_ID\"},m=function(e){return{type:b.SET_IS_ROOM_HOST,isRoomHost:e}},v=function(e){return{type:b.SET_ROOM_ID,roomId:e}},f=function(e){return{type:b.SET_SHOW_OVERLAY,showOverlay:e}},h=function(e){return{type:b.SET_DIRECT_CHAT_HISTORY,directChatHistory:e}},p=b,g=(n(94),Object(O.b)(null,(function(e){return{setIsRoomHostAction:function(t){return e(m(t))}}}))((function(e){var t=e.setIsRoomHostAction;return Object(a.useEffect)((function(){t(!1)}),[]),Object(l.jsx)(\"div\",{className:\"introduction_page_container\",children:Object(l.jsxs)(\"div\",{className:\"introduction_page_panel\",children:[Object(l.jsx)(\"img\",{src:\"data:image/png;base64,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\",className:\"introduction_page_image\"}),Object(l.jsx)(j,{})]})})}))),_=n(2),x=function(e){var t=e.isRoomHost?\"Host meeting\":\"Join meeting\";return Object(l.jsx)(\"p\",{className:\"join_room_title\",children:t})},A=n(7),y=n(21),S=n(11),N=function(e){var t=e.placeholder,n=e.value,c=e.changeHandler;return Object(l.jsx)(\"input\",{value:n,onChange:c,className:\"join_room_input\",placeholder:t})},I=function(e){var t=e.roomIdValue,n=e.setRoomIdValue,c=e.nameValue,a=e.setNameValue,o=e.isRoomHost;return Object(l.jsxs)(\"div\",{className:\"join_room_inputs_container\",children:[!o&&Object(l.jsx)(N,{placeholder:\"Enter meeting ID\",value:t,changeHandler:function(e){n(e.target.value)}}),Object(l.jsx)(N,{placeholder:\"Enter your Name\",value:c,changeHandler:function(e){a(e.target.value)}})]})},T=function(e){var t=e.connectOnlyWithAudio,n=e.setConnectOnlyWithAudio;return Object(l.jsxs)(\"div\",{className:\"checkbox_container\",children:[Object(l.jsx)(\"div\",{className:\"checkbox_connection\",onClick:function(){n(!t)},children:t&&Object(l.jsx)(\"img\",{className:\"checkbox_image\",src:\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABiSURBVHgB7ZHBCQAgCEUdpREaoY0boREaoREawQw8hNShFLz04EOHz8MU4OMKIgZKpkTQwrJG6fMNGoRMN52fjMvltI/ryWaJy01Kn7+5k6p3JqTJ5ACLFE2uuUiriezjywAgdcf6AfL4kwAAAABJRU5ErkJggg==\"})}),Object(l.jsx)(\"p\",{className:\"checkbox_container_paragraph\",children:\"Only audio\"})]})},E=function(e){var t=e.errorMessage;return Object(l.jsx)(\"div\",{className:\"error_message_container\",children:t&&Object(l.jsx)(\"p\",{className:\"error_message_paragraph\",children:t})})},C=function(e){var t=e.buttonText,n=e.cancelButton,c=void 0!==n&&n,a=e.onClickHandler,o=c?\"join_room_cancel_button\":\"join_room_success_button\";return Object(l.jsx)(\"button\",{onClick:a,className:o,children:t})},R=function(e){var t=e.handleJoinRoom,n=e.isRoomHost?\"Host\":\"Join\",c=Object(u.f)();return Object(l.jsxs)(\"div\",{className:\"join_room_buttons_container\",children:[Object(l.jsx)(C,{buttonText:n,onClickHandler:t}),Object(l.jsx)(C,{buttonText:\"Cancel\",cancelButton:!0,onClickHandler:function(){c.push(\"/\")}})]})},k=n(53),H=n.n(k),w=\"http://localhost:5002/api\",D=function(){var e=Object(y.a)(Object(A.a)().mark((function e(t){var n;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get(\"\".concat(w,\"/room-exists/\").concat(t));case 2:return n=e.sent,e.abrupt(\"return\",n.data);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(y.a)(Object(A.a)().mark((function e(){var t;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get(\"\".concat(w,\"/get-turn-credentials\"));case 2:return t=e.sent,e.abrupt(\"return\",t.data);case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=Object(O.b)((function(e){return Object(_.a)({},e)}),(function(e){return{setConnectOnlyWithAudio:function(t){return e(function(e){return{type:b.SET_CONNECT_ONLY_WITH_AUDIO,onlyWithAudio:e}}(t))},setIdentityAction:function(t){return e(function(e){return{type:b.SET_IDENTITY,identity:e}}(t))},setRoomIdAction:function(t){return e(v(t))}}}))((function(e){var t=e.isRoomHost,n=e.setConnectOnlyWithAudio,c=e.connectOnlyWithAudio,o=e.setIdentityAction,r=e.setRoomIdAction,s=Object(a.useState)(\"\"),i=Object(S.a)(s,2),d=i[0],j=i[1],O=Object(a.useState)(\"\"),b=Object(S.a)(O,2),m=b[0],v=b[1],f=Object(a.useState)(null),h=Object(S.a)(f,2),p=h[0],g=h[1],_=Object(u.f)(),x=function(){var e=Object(y.a)(Object(A.a)().mark((function e(){return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(m),!t){e.next=5;break}C(),e.next=7;break;case 5:return e.next=7,N();case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(y.a)(Object(A.a)().mark((function e(){var t,n,c;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(d);case 2:t=e.sent,n=t.roomExists,c=t.full,n?c?g(\"Meeting is full. Please try again later.\"):(r(d),_.push(\"/room\")):g(\"Meeting not found. Check your meeting id.\");case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){_.push(\"/room\")};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(I,{roomIdValue:d,setRoomIdValue:j,nameValue:m,setNameValue:v,isRoomHost:t}),Object(l.jsx)(T,{setConnectOnlyWithAudio:n,connectOnlyWithAudio:c}),Object(l.jsx)(E,{errorMessage:p}),Object(l.jsx)(R,{handleJoinRoom:x,isRoomHost:t})]})})),W=(n(113),Object(O.b)((function(e){return Object(_.a)({},e)}),(function(e){return{setIsRoomHostAction:function(t){return e(m(t))}}}))((function(e){var t=e.setIsRoomHostAction,n=e.isRoomHost,c=Object(u.g)().search;return Object(a.useEffect)((function(){new URLSearchParams(c).get(\"host\")&&t(!0)}),[]),Object(l.jsx)(\"div\",{className:\"join_room_page_container\",children:Object(l.jsxs)(\"div\",{className:\"join_room_page_panel\",children:[Object(l.jsx)(x,{isRoomHost:n}),Object(l.jsx)(B,{})]})})}))),P=function(){return Object(l.jsx)(\"div\",{className:\"chat_label_container\",children:Object(l.jsx)(\"p\",{className:\"chat_label_paragraph\",children:\"CHAT\"})})},Y=function(e){var t=e.author,n=e.content,c=e.sameAuthor,a=e.messageCreatedByMe,o=a?\"message_align_right\":\"message_align_left\",r=a?\"You\":t,s=a?\"message_right_styles\":\"message_left_styles\";return Object(l.jsxs)(\"div\",{className:\"message_container \".concat(o),children:[!c&&Object(l.jsx)(\"p\",{className:\"message_title\",children:r}),Object(l.jsx)(\"p\",{className:\"message_content \".concat(s),children:n})]})},V=Object(O.b)((function(e){return Object(_.a)({},e)}))((function(e){var t=e.messages;return Object(l.jsx)(\"div\",{className:\"messages_container\",children:t.map((function(e,n){var c=n>0&&e.identity===t[n-1].identity;return Object(l.jsx)(Y,{author:e.identity,content:e.content,sameAuthor:c,messageCreatedByMe:e.messageCreatedByMe},\"\".concat(e.content).concat(n))}))})})),M=n.p+\"static/media/sendMessageButton.9add4f6d.svg\",G=n(29),J=n(76),Q={identity:\"\",isRoomHost:!1,connectOnlyWithAudio:!1,roomId:null,showOverlay:!0,participants:[],messages:[],activeConversation:null,directChatHistory:[],socketId:null},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.SET_IS_ROOM_HOST:return Object(_.a)(Object(_.a)({},e),{},{isRoomHost:t.isRoomHost});case p.SET_CONNECT_ONLY_WITH_AUDIO:return Object(_.a)(Object(_.a)({},e),{},{connectOnlyWithAudio:t.onlyWithAudio});case p.SET_ROOM_ID:return Object(_.a)(Object(_.a)({},e),{},{roomId:t.roomId});case p.SET_IDENTITY:return Object(_.a)(Object(_.a)({},e),{},{identity:t.identity});case p.SET_SHOW_OVERLAY:return Object(_.a)(Object(_.a)({},e),{},{showOverlay:t.showOverlay});case p.SET_PARTICIPANTS:return Object(_.a)(Object(_.a)({},e),{},{participants:t.participants});case p.SET_MESSAGES:return Object(_.a)(Object(_.a)({},e),{},{messages:t.messages});case p.SET_ACTIVE_CONVERSATION:return Object(_.a)(Object(_.a)({},e),{},{activeConversation:t.activeConversation});case p.SET_DIRECT_CHAT_HISTORY:return Object(_.a)(Object(_.a)({},e),{},{directChatHistory:t.directChatHistory});case p.SET_SOCKET_ID:return Object(_.a)(Object(_.a)({},e),{},{socketId:t.socketId});default:return e}},L=Object(J.a)({reducer:K}),F=L,X=n(79),z=function(e,t){var n=Object(G.a)(F.getState().directChatHistory),c=n.find((function(t){return t.socketId===e}));if(c){var a={isAuthor:t.isAuthor,messageContent:t.messageContent,identity:t.identity},o=Object(_.a)(Object(_.a)({},c),{},{chatHistory:[].concat(Object(G.a)(c.chatHistory),[a])}),r=[].concat(Object(G.a)(n.filter((function(t){return t.socketId!==e}))),[o]);F.dispatch(h(r))}else{var s={socketId:e,chatHistory:[{isAuthor:t.isAuthor,messageContent:t.messageContent,identity:t.identity}]},i=[].concat(Object(G.a)(n),[s]);F.dispatch(h(i))}},Z=null,q=function(){(Z=Object(X.a)(\"http://localhost:5002\")).on(\"connect\",(function(){var e;console.log(\"successfully connected with socket io server\"),console.log(Z.id),F.dispatch((e=Z.id,{type:b.SET_SOCKET_ID,socketId:e}))})),Z.on(\"room-id\",(function(e){var t=e.roomId;F.dispatch(v(t))})),Z.on(\"room-update\",(function(e){var t=e.connectedUsers;F.dispatch({type:b.SET_PARTICIPANTS,participants:t})})),Z.on(\"conn-prepare\",(function(e){var t=e.connUserSocketId;de(t,!1),Z.emit(\"conn-init\",{connUserSocketId:t})})),Z.on(\"conn-signal\",(function(e){je(e)})),Z.on(\"conn-init\",(function(e){var t=e.connUserSocketId;de(t,!0)})),Z.on(\"user-disconnected\",(function(e){Oe(e)})),Z.on(\"direct-message\",(function(e){!function(e){var t=e.isAuthor,n=e.receiverSocketId,c=e.authorSocketId;z(t?n:c,e)}(e)}))},$=function(e,t){var n={identity:e,onlyAudio:t};Z.emit(\"create-new-room\",n)},ee=function(e,t,n){var c={roomId:t,identity:e,onlyAudio:n};Z.emit(\"join-room\",c)},te=n(78),ne=n.n(te),ce=null,ae=function(){var e=Object(y.a)(Object(A.a)().mark((function e(){var t,n;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return n=e.sent,null!==(t=n.token)&&void 0!==t&&t.iceServers&&(ce=n.token.iceServers),e.abrupt(\"return\",ce);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe={audio:!0,video:{width:\"480\",height:\"360\"}},re={audio:!0,video:!1},se=function(){var e=Object(y.a)(Object(A.a)().mark((function e(t,n){var a,o,r,s=arguments;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:null,o=s.length>3?s[3]:void 0,e.next=4,ae();case 4:r=o?re:oe,navigator.mediaDevices.getUserMedia(r).then((function(e){console.log(\"successfuly received local stream\"),be(c=e),F.dispatch(f(!1)),t?$(n,o):ee(n,a,o)})).catch((function(e){console.log(\"error occurred when trying to get an access to local stream\"),console.log(e)}));case 6:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie={},ue=[],le=function(){var e=ce;return e?{iceServers:[{urls:\"stun:stun.l.google.com:19302\"}].concat(Object(G.a)(e))}:(console.warn(\"Using only STUN server\"),{iceServers:[{urls:\"stun:stun.l.google.com:19302\"}]})},de=function(e,t){var n=le();ie[e]=new ne.a({initiator:t,config:n,stream:c,channelName:\"messenger\"}),ie[e].on(\"signal\",(function(t){!function(e){Z.emit(\"conn-signal\",e)}({signal:t,connUserSocketId:e})})),ie[e].on(\"stream\",(function(t){console.log(\"new stream came\"),me(t,e),ue=[].concat(Object(G.a)(ue),[t])})),ie[e].on(\"data\",(function(e){var t=JSON.parse(e);pe(t)}))},je=function(e){ie[e.connUserSocketId].signal(e.signal)},Oe=function(e){var t=e.socketId,n=document.getElementById(t),c=document.getElementById(\"\".concat(t,\"-video\"));n&&c&&(c.srcObject.getTracks().forEach((function(e){return e.stop()})),c.srcObject=null,n.removeChild(c),n.parentNode.removeChild(n),ie[t]&&ie[t].destroy(),delete ie[t])},be=function(e){var t=document.getElementById(\"videos_portal\");t.classList.add(\"videos_portal_styles\");var n=document.createElement(\"div\");n.classList.add(\"video_track_container\");var c=document.createElement(\"video\");c.autoplay=!0,c.muted=!0,c.srcObject=e,c.onloadedmetadata=function(){c.play()},n.appendChild(c),F.getState().connectOnlyWithAudio&&n.appendChild(ve()),t.appendChild(n)},me=function(e,t){var n=document.getElementById(\"videos_portal\"),c=document.createElement(\"div\");c.id=t,c.classList.add(\"video_track_container\");var a=document.createElement(\"video\");a.autoplay=!0,a.srcObject=e,a.id=\"\".concat(t,\"-video\"),a.onloadedmetadata=function(){a.play()},a.addEventListener(\"click\",(function(){a.classList.contains(\"full_screen\")?a.classList.remove(\"full_screen\"):a.classList.add(\"full_screen\")})),c.appendChild(a);var o=F.getState().participants.find((function(e){return e.socketId===t}));console.log(o),null!==o&&void 0!==o&&o.onlyAudio?c.appendChild(ve(o.identity)):c.style.position=\"static\",n.appendChild(c)},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=document.createElement(\"div\");t.classList.add(\"label_only_audio_container\");var n=document.createElement(\"p\");return n.classList.add(\"label_only_audio_text\"),n.innerHTML=\"Only audio \".concat(e),t.appendChild(n),t},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;he(e?c:t)},he=function(e){for(var t in ie)for(var n in ie[t].streams[0].getTracks())for(var c in e.getTracks())if(ie[t].streams[0].getTracks()[n].kind===e.getTracks()[c].kind){ie[t].replaceTrack(ie[t].streams[0].getTracks()[n],e.getTracks()[c],ie[t].streams[0]);break}},pe=function(e){var t=F.getState().messages;F.dispatch(function(e){return{type:b.SET_MESSAGES,messages:e}}([].concat(Object(G.a)(t),[e])))},ge=function(){var e=Object(a.useState)(\"\"),t=Object(S.a)(e,2),n=t[0],c=t[1],o=function(){n.length>0&&(!function(e){var t=F.getState().identity;pe({content:e,identity:t,messageCreatedByMe:!0});var n={content:e,identity:t},c=JSON.stringify(n);for(var a in ie)ie[a].send(c)}(n),c(\"\"))};return Object(l.jsxs)(\"div\",{className:\"new_message_container\",children:[Object(l.jsx)(\"input\",{className:\"new_message_input\",value:n,onChange:function(e){c(e.target.value)},placeholder:\"Type your message ...\",type:\"text\",onKeyDown:function(e){\"Enter\"===e.key&&(e.preventDefault(),o())}}),Object(l.jsx)(\"img\",{className:\"new_message_button\",src:M,onClick:o})]})},_e=function(){return Object(l.jsxs)(\"div\",{className:\"chat_section_container\",children:[Object(l.jsx)(P,{}),Object(l.jsx)(V,{}),Object(l.jsx)(ge,{})]})},xe=function(){return Object(l.jsx)(\"div\",{className:\"participants_label_container\",children:Object(l.jsx)(\"p\",{className:\"participants_label_paragraph\",children:\"PARTICIPANTS\"})})},Ae=function(e){var t=e.identity,n=e.lastItem,c=e.participant,a=e.setActiveConversationAction,o=e.socketId;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(\"p\",{className:\"participants_paragraph\",onClick:function(){c.socketId!==o&&a(c)},children:t}),!n&&Object(l.jsx)(\"span\",{className:\"participants_separator_line\"})]})},ye=Object(O.b)((function(e){return Object(_.a)({},e)}),(function(e){return{setActiveConversationAction:function(t){return e(function(e){return{type:b.SET_ACTIVE_CONVERSATION,activeConversation:e}}(t))}}}))((function(e){var t=e.participants,n=e.setActiveConversationAction,c=e.socketId;return Object(l.jsx)(\"div\",{className:\"participants_container\",children:t.map((function(e,a){return Object(l.jsx)(Ae,{lastItem:t.length===a+1,participant:e,identity:e.identity,setActiveConversationAction:n,socketId:c},e.identity)}))})})),Se=function(e){var t=e.isAuthor,n=e.messageContent,c=t?\"author_direct_message\":\"receiver_direct_message\",a=t?\"direct_message_container_author\":\"direct_message_container_receiver\";return Object(l.jsx)(\"div\",{className:a,children:Object(l.jsx)(\"p\",{className:c,children:n})})},Ne=function(e){var t=e.messages,n=Object(a.useRef)();return Object(a.useEffect)((function(){n&&n.current.scrollIntoView({behavior:\"smooth\"})}),[t]),Object(l.jsxs)(\"div\",{className:\"direct_messages_container\",children:[t.map((function(e){return Object(l.jsx)(Se,{messageContent:e.messageContent,isAuthor:e.isAuthor},\"\".concat(e.messageContent,\"-\").concat(e.identity))})),Object(l.jsx)(\"div\",{ref:n})]})},Ie=Object(O.b)((function(e){return Object(_.a)({},e)}))((function(e){var t=e.activeConversation,n=e.identity,c=Object(a.useState)(\"\"),o=Object(S.a)(c,2),r=o[0],s=o[1],i=function(){var e;e={receiverSocketId:t.socketId,identity:n,messageContent:r},Z.emit(\"direct-message\",e),s(\"\")};return Object(l.jsxs)(\"div\",{className:\"new_message_container new_message_direct_border\",children:[Object(l.jsx)(\"input\",{className:\"new_message_input\",value:r,onChange:function(e){s(e.target.value)},placeholder:\"Type your message..\",type:\"text\",onKeyDown:function(e){\"Enter\"===e.key&&(e.preventDefault(),i())}}),Object(l.jsx)(\"img\",{className:\"new_message_button\",src:M,onClick:i})]})})),Te=function(){return Object(l.jsx)(\"div\",{className:\"conversation_not_chosen_overlay\",children:Object(l.jsx)(\"p\",{className:\"conversation_not_chosen_overlay_text\",children:\"Conversation not chosen\"})})},Ee=function(e){var t=e.activeConversation;return Object(l.jsx)(\"div\",{className:\"direct_chat_header\",children:Object(l.jsx)(\"p\",{className:\"direct_chat_header_paragraph\",children:t?t.identity:\"\"})})},Ce=Object(O.b)((function(e){return Object(_.a)({},e)}))((function(e){var t=e.activeConversation,n=e.directChatHistory,c=Object(a.useState)([]),o=Object(S.a)(c,2),r=o[0],s=o[1];return Object(a.useEffect)((function(){s(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(console.log(e),console.log(t),!t||!e)return[];var n=e.find((function(e){return e.socketId===t}));return n?n.chatHistory:[]}(n,t?t.socketId:null))}),[t,n]),Object(l.jsxs)(\"div\",{className:\"direct_chat_container\",children:[Object(l.jsx)(Ee,{activeConversation:t}),Object(l.jsx)(Ne,{messages:r}),Object(l.jsx)(Ie,{}),!t&&Object(l.jsx)(Te,{})]})})),Re=function(){return Object(l.jsxs)(\"div\",{className:\"participants_section_container\",children:[Object(l.jsx)(xe,{}),Object(l.jsx)(ye,{}),Object(l.jsx)(Ce,{})]})},ke=n.p+\"static/media/camera.b50348a3.svg\",He=n.p+\"static/media/cameraOff.a61d4a02.svg\",we=function(){var e=Object(a.useState)(!1),t=Object(S.a)(e,2),n=t[0],o=t[1];return Object(l.jsx)(\"div\",{className:\"video_button_container\",children:Object(l.jsx)(\"img\",{src:n?He:ke,className:\"video_button_image\",onClick:function(){var e;e=n,c.getVideoTracks()[0].enabled=!!e,o(!n)}})})},De=function(){return Object(l.jsx)(\"div\",{className:\"video_button_container\",children:Object(l.jsx)(\"button\",{className:\"video_button_end\",onClick:function(){var e=window.location.origin;window.location.href=e},children:\"Leave Room\"})})},Ue=n.p+\"static/media/mic.c9c9788e.svg\",Be=n.p+\"static/media/micOff.3a72f682.svg\",We=function(){var e=Object(a.useState)(!1),t=Object(S.a)(e,2),n=t[0],o=t[1];return Object(l.jsx)(\"div\",{className:\"video_button_container\",children:Object(l.jsx)(\"img\",{src:n?Be:Ue,onClick:function(){var e;e=n,c.getAudioTracks()[0].enabled=!!e,o(!n)},className:\"video_button_image\"})})},Pe=n.p+\"static/media/switchToScreenSharing.900d9338.svg\",Ye=function(e){var t=e.stream,n=Object(a.useRef)();return Object(a.useEffect)((function(){var e=n.current;e.srcObject=t,e.onloadedmetadata=function(){e.play()}}),[t]),Object(l.jsx)(\"div\",{className:\"local_screen_share_preview\",children:Object(l.jsx)(\"video\",{muted:!0,autoPlay:!0,ref:n})})},Ve={audio:!1,video:!0},Me=function(){var e=Object(a.useState)(!1),t=Object(S.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),r=Object(S.a)(o,2),s=r[0],i=r[1],u=function(){var e=Object(y.a)(Object(A.a)().mark((function e(){var t;return Object(A.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=14;break}return t=null,e.prev=2,e.next=5,navigator.mediaDevices.getDisplayMedia(Ve);case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(\"error occurred when trying to get an access to screen share stream\");case 11:t&&(i(t),fe(n,t),c(!0)),e.next=18;break;case 14:fe(n),c(!1),s.getTracks().forEach((function(e){return e.stop()})),i(null);case 18:case\"end\":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(\"div\",{className:\"video_button_container\",children:Object(l.jsx)(\"img\",{src:Pe,onClick:u,className:\"video_button_image\"})}),n&&Object(l.jsx)(Ye,{stream:s})]})},Ge=Object(O.b)((function(e){return Object(_.a)({},e)}))((function(e){var t=e.connectOnlyWithAudio;return Object(l.jsxs)(\"div\",{className:\"video_buttons_container\",children:[Object(l.jsx)(We,{}),!t&&Object(l.jsx)(we,{}),Object(l.jsx)(De,{}),!t&&Object(l.jsx)(Me,{})]})})),Je=function(){return Object(l.jsx)(\"div\",{className:\"video_section_container\",children:Object(l.jsx)(Ge,{})})},Qe=function(e){var t=e.roomId;return Object(l.jsx)(\"div\",{className:\"room_label\",children:Object(l.jsxs)(\"p\",{className:\"room_label_paragraph\",children:[\"ID: \",t,\" \"]})})},Ke=function(){return Object(l.jsx)(\"div\",{className:\"overlay_container\",children:Object(l.jsx)(\"div\",{className:\"loader\"})})},Le=(n(147),Object(O.b)((function(e){return Object(_.a)({},e)}))((function(e){var t=e.roomId,n=e.identity,c=e.isRoomHost,o=e.showOverlay,r=e.connectOnlyWithAudio;return Object(a.useEffect)((function(){if(c||t)se(c,n,t,r);else{var e=window.location.origin;window.location.href=e}}),[]),Object(l.jsxs)(\"div\",{className:\"room_container\",children:[Object(l.jsx)(Re,{}),Object(l.jsx)(Je,{}),Object(l.jsx)(_e,{}),Object(l.jsx)(Qe,{roomId:t}),o&&Object(l.jsx)(Ke,{})]})})));n(148);var Fe=function(){return Object(a.useEffect)((function(){q()}),[]),Object(l.jsx)(i.a,{children:Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{path:\"/join-room\",children:Object(l.jsx)(W,{})}),Object(l.jsx)(u.a,{path:\"/room\",children:Object(l.jsx)(Le,{})}),Object(l.jsx)(u.a,{path:\"/\",children:Object(l.jsx)(g,{})})]})})};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(O.a,{store:L,children:Object(l.jsx)(Fe,{})})}),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},84:function(e,t,n){},94:function(e,t,n){}},[[149,1,2]]]);","name":"static/js/main.9c0746e3.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","localStream","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","jsx_runtime","IntroductionPage_ConnectingButton","_ref","_ref$createRoomButton","createRoomButton","buttonText","onClickHandler","buttonClass","Object","className","onClick","children","IntroductionPage_ConnectingButtons","history","es","Actions","SET_IS_ROOM_HOST","SET_CONNECT_ONLY_WITH_AUDIO","SET_IDENTITY","SET_ROOM_ID","SET_SHOW_OVERLAY","SET_PARTICIPANTS","SET_MESSAGES","SET_ACTIVE_CONVERSATION","SET_DIRECT_CHAT_HISTORY","SET_SOCKET_ID","setIsRoomHost","isRoomHost","type","setRoomId","roomId","setShowOverlay","showOverlay","setDirectChatHistory","directChatHistory","actions","src_IntroductionPage_IntroductionPage","dispatch","setIsRoomHostAction","src","objectSpread2","JoinRoomPage_JoinRoomTitle","titleText","regeneratorRuntime","asyncToGenerator","slicedToArray","JoinRoomInputs_Input","placeholder","value","changeHandler","onChange","JoinRoomPage_JoinRoomInputs","props","roomIdValue","setRoomIdValue","nameValue","setNameValue","event","target","JoinRoomPage_OnlyWithAudioCheckbox","connectOnlyWithAudio","setConnectOnlyWithAudio","JoinRoomPage_ErrorMessage","errorMessage","JoinRoomButtons_Button","_ref$cancelButton","cancelButton","JoinRoomPage_JoinRoomButtons","_ref2","handleJoinRoom","successButtonText","axios","axios_default","serverApi","getRoomExists","mark","_callee","response","wrap","_context","prev","next","a","get","concat","sent","abrupt","data","stop","_x","apply","arguments","getTURNCredentials","_callee2","_context2","JoinRoomPage_JoinRoomContent","state","onlyWithAudio","actions_setConnectOnlyWithAudio","setIdentityAction","identity","setIdentity","setRoomIdAction","_useState","_useState2","_useState3","_useState4","_useState5","_useState6","setErrorMessage","createRoom","joinRoom","responseMessage","roomExists","full","src_JoinRoomPage_JoinRoomPage","search","URLSearchParams","ChatSection_ChatLabel","Messages_Message","author","content","sameAuthor","messageCreatedByMe","alignClass","authorText","contentAdditionalStyles","ChatSection_Messages","messages","map","message","index","sendMessageButton","p","toConsumableArray","redux_toolkit_esm","initState","participants","activeConversation","socketId","store_reducer","length","undefined","action","store","reducer","store_store","esm","directMessages_appendMessageToChatHistory","userSocketId","chatHistory","getState","userChatHistory","find","h","newDirectMessage","isAuthor","messageContent","newUserChatHistory","newChatHistory","filter","_newUserChatHistory","_newChatHistory","socket","wss_connectWithSocketIOServer","on","console","log","id","connectedUsers","connUserSocketId","webRTCHandler_prepareNewPeerConnection","emit","handleSignalingData","removePeerConnection","receiverSocketId","authorSocketId","appendNewMessageToChatHistory","createNewRoom","onlyAudio","wss_joinRoom","simple_peer","simple_peer_default","TURNIceServers","fetchTURNCredentials","_responseData$token","responseData","token","iceServers","defaultConstraints","audio","video","width","height","onlyAudioConstraints","getLocalPreviewAndInitRoomConnection","constraints","_args","navigator","mediaDevices","getUserMedia","then","stream","webRTCHandler_showLocalVideoPreview","catch","err","_x2","peers","streams","webRTCHandler_getConfiguration","turnIceServers","urls","warn","isInitiator","configuration","initiator","config","channelName","signalPeerData","signal","webRTCHandler_addStream","messageData","JSON","parse","webRTCHandler_appendNewMessage","videoContainer","document","getElementById","videoEl","srcObject","getTracks","forEach","t","removeChild","parentNode","destroy","videosContainer","classList","add","createElement","videoElement","autoplay","muted","onloadedmetadata","play","appendChild","getAudioOnlyLabel","addEventListener","contains","remove","participant","style","position","labelContainer","label","innerHTML","toggleScreenShare","isScreenSharingActive","screenSharingStream","switchVideoTracks","socket_id","index2","kind","replaceTrack","actions_setMessages","ChatSection_NewMessage","setMessage","sendMessage","stringifiedMessageData","stringify","send","webRTCHandler_sendMessageUsingDataChannel","onKeyDown","key","preventDefault","RoomPage_ChatSection_ChatSection","ParticipantsSection_ParticipantsLabel","Participants_SingleParticipant","lastItem","setActiveConversationAction","ParticipantsSection_Participants","setActiveConversation","MessagesContainer_SingleMessage","messageStyling","containerStyling","DirectChat_MessagesContainer","scrollRef","current","scrollIntoView","behavior","ref","DirectChat_NewMessage","DirectChat_ConversationNotChosen","DirectChat_DirectChatHeader","ParticipantsSection_DirectChat_DirectChat","setMessages","getDirectChatHistory","RoomPage_ParticipantsSection_ParticipantsSection","camera","cameraOff","VideoSection_CameraButton","isLocalVideoDisabled","setIsLocalVideoDisabled","isDisabled","getVideoTracks","enabled","VideoSection_LeaveRoomButton","siteUrl","window","location","origin","href","mic","micOff","VideoSection_MicButton","isMicMuted","setIsMicMuted","isMuted","getAudioTracks","switchToScreenSharing","VideoSection_LocalScreenSharingPreview","localPreviewRef","autoPlay","SwitchToScreenSharingButton_constraints","VideoSection_SwitchToScreenSharingButton","setIsScreenSharingActive","setScreenSharingStream","handleScreenShareToggle","getDisplayMedia","t0","VideoSection_VideoButtons","RoomPage_VideoSection_VideoSection","RoomPage_RoomLabel","RoomPage_Overlay","src_RoomPage_RoomPage","src_App","path","Boolean","hostname","match","render","StrictMode","serviceWorker","ready","registration","unregister"],"sources":["static/js/main.9c0746e3.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpmy-app\"] = this[\"webpackJsonpmy-app\"] || []).push([[0],{\n\n/***/ 113:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 137:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 139:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 147:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 148:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(43);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(84);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/resources/images/logo.png\n/* harmony default export */ var logo = (\"data:image/png;base64,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\");\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/IntroductionPage/ConnectingButton.js\nvar ConnectingButton_ConnectingButton=function ConnectingButton(_ref){var _ref$createRoomButton=_ref.createRoomButton,createRoomButton=_ref$createRoomButton===void 0?false:_ref$createRoomButton,buttonText=_ref.buttonText,onClickHandler=_ref.onClickHandler;var buttonClass=createRoomButton?\"create_room_button\":\"join_room_button\";return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:buttonClass,onClick:onClickHandler,children:buttonText});};/* harmony default export */ var IntroductionPage_ConnectingButton = (ConnectingButton_ConnectingButton);\n// CONCATENATED MODULE: ./src/IntroductionPage/ConnectingButtons.js\nvar ConnectingButtons_ConnectingButtons=function ConnectingButtons(){var history=Object(react_router[\"f\" /* useHistory */])();var pushToJoinRoomPage=function pushToJoinRoomPage(){history.push(\"/join-room\");};var pushToJoinRoomPageAsHost=function pushToJoinRoomPageAsHost(){history.push(\"/join-room?host=true\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"connecting_buttons_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IntroductionPage_ConnectingButton,{buttonText:\"Join a meeting\",onClickHandler:pushToJoinRoomPage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IntroductionPage_ConnectingButton,{createRoomButton:true,buttonText:\"Host a meeting\",onClickHandler:pushToJoinRoomPageAsHost})]});};/* harmony default export */ var IntroductionPage_ConnectingButtons = (ConnectingButtons_ConnectingButtons);\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 24 modules\nvar es = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/store/actions.js\nvar Actions={SET_IS_ROOM_HOST:\"SET_IS_ROOM_HOST\",SET_CONNECT_ONLY_WITH_AUDIO:\"SET_CONNECT_ONLY_WITH_AUDIO\",SET_IDENTITY:\"SET_IDENTITY\",SET_ROOM_ID:\"SET_ROOM_ID\",SET_SHOW_OVERLAY:\"SET_SHOW_OVERLAY\",SET_PARTICIPANTS:\"SET_PARTICIPANTS\",SET_MESSAGES:\"SET_MESSAGES\",SET_ACTIVE_CONVERSATION:'SET_ACTIVE_CONVERSATION',SET_DIRECT_CHAT_HISTORY:'SET_DIRECT_CHAT_HISTORY',SET_SOCKET_ID:'SET_SOCKET_ID'};var setIsRoomHost=function setIsRoomHost(isRoomHost){return{type:Actions.SET_IS_ROOM_HOST,isRoomHost:isRoomHost};};var actions_setConnectOnlyWithAudio=function setConnectOnlyWithAudio(onlyWithAudio){return{type:Actions.SET_CONNECT_ONLY_WITH_AUDIO,onlyWithAudio:onlyWithAudio};};var setIdentity=function setIdentity(identity){return{type:Actions.SET_IDENTITY,identity:identity};};var setRoomId=function setRoomId(roomId){return{type:Actions.SET_ROOM_ID,roomId:roomId};};var setShowOverlay=function setShowOverlay(showOverlay){return{type:Actions.SET_SHOW_OVERLAY,showOverlay:showOverlay};};var setParticipants=function setParticipants(participants){return{type:Actions.SET_PARTICIPANTS,participants:participants};};var actions_setMessages=function setMessages(messages){return{type:Actions.SET_MESSAGES,messages:messages};};var setActiveConversation=function setActiveConversation(activeConversation){return{type:Actions.SET_ACTIVE_CONVERSATION,activeConversation:activeConversation};};var setDirectChatHistory=function setDirectChatHistory(directChatHistory){return{type:Actions.SET_DIRECT_CHAT_HISTORY,directChatHistory:directChatHistory};};var setSocketId=function setSocketId(socketId){return{type:Actions.SET_SOCKET_ID,socketId:socketId};};/* harmony default export */ var actions = (Actions);\n// EXTERNAL MODULE: ./src/IntroductionPage/IntroductionPage.css\nvar IntroductionPage_IntroductionPage = __webpack_require__(94);\n\n// CONCATENATED MODULE: ./src/IntroductionPage/IntroductionPage.js\nvar IntroductionPage_IntroductionPage_IntroductionPage=function IntroductionPage(_ref){var setIsRoomHostAction=_ref.setIsRoomHostAction;Object(react[\"useEffect\"])(function(){setIsRoomHostAction(false);},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"introduction_page_container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"introduction_page_panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:logo,className:\"introduction_page_image\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IntroductionPage_ConnectingButtons,{})]})});};var IntroductionPage_mapActionsToProps=function mapActionsToProps(dispatch){return{setIsRoomHostAction:function setIsRoomHostAction(isRoomHost){return dispatch(setIsRoomHost(isRoomHost));}};};/* harmony default export */ var src_IntroductionPage_IntroductionPage = (Object(es[\"b\" /* connect */])(null,IntroductionPage_mapActionsToProps)(IntroductionPage_IntroductionPage_IntroductionPage));\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/JoinRoomPage/JoinRoomTitle.js\nvar JoinRoomTitle_JoinRoomTitle=function JoinRoomTitle(_ref){var isRoomHost=_ref.isRoomHost;var titleText=isRoomHost?\"Host meeting\":\"Join meeting\";return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"join_room_title\",children:titleText});};/* harmony default export */ var JoinRoomPage_JoinRoomTitle = (JoinRoomTitle_JoinRoomTitle);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/JoinRoomPage/JoinRoomInputs.js\nvar JoinRoomInputs_Input=function Input(_ref){var placeholder=_ref.placeholder,value=_ref.value,changeHandler=_ref.changeHandler;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:value,onChange:changeHandler,className:\"join_room_input\",placeholder:placeholder});};var JoinRoomInputs_JoinRoomInputs=function JoinRoomInputs(props){var roomIdValue=props.roomIdValue,setRoomIdValue=props.setRoomIdValue,nameValue=props.nameValue,setNameValue=props.setNameValue,isRoomHost=props.isRoomHost;var handleRoomIdValueChange=function handleRoomIdValueChange(event){setRoomIdValue(event.target.value);};var handleNameValueChange=function handleNameValueChange(event){setNameValue(event.target.value);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"join_room_inputs_container\",children:[!isRoomHost&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinRoomInputs_Input,{placeholder:\"Enter meeting ID\",value:roomIdValue,changeHandler:handleRoomIdValueChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinRoomInputs_Input,{placeholder:\"Enter your Name\",value:nameValue,changeHandler:handleNameValueChange})]});};/* harmony default export */ var JoinRoomPage_JoinRoomInputs = (JoinRoomInputs_JoinRoomInputs);\n// CONCATENATED MODULE: ./src/resources/images/check.png\n/* harmony default export */ var check = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABiSURBVHgB7ZHBCQAgCEUdpREaoY0boREaoREawQw8hNShFLz04EOHz8MU4OMKIgZKpkTQwrJG6fMNGoRMN52fjMvltI/ryWaJy01Kn7+5k6p3JqTJ5ACLFE2uuUiriezjywAgdcf6AfL4kwAAAABJRU5ErkJggg==\");\n// CONCATENATED MODULE: ./src/JoinRoomPage/OnlyWithAudioCheckbox.js\nvar OnlyWithAudioCheckbox_OnlyWithAudioCheckbox=function OnlyWithAudioCheckbox(_ref){var connectOnlyWithAudio=_ref.connectOnlyWithAudio,setConnectOnlyWithAudio=_ref.setConnectOnlyWithAudio;var handleConnectionTypeChange=function handleConnectionTypeChange(){setConnectOnlyWithAudio(!connectOnlyWithAudio);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"checkbox_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"checkbox_connection\",onClick:handleConnectionTypeChange,children:connectOnlyWithAudio&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"checkbox_image\",src:check})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"checkbox_container_paragraph\",children:\"Only audio\"})]});};/* harmony default export */ var JoinRoomPage_OnlyWithAudioCheckbox = (OnlyWithAudioCheckbox_OnlyWithAudioCheckbox);\n// CONCATENATED MODULE: ./src/JoinRoomPage/ErrorMessage.js\nvar ErrorMessage_ErrorMessage=function ErrorMessage(_ref){var errorMessage=_ref.errorMessage;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"error_message_container\",children:errorMessage&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"error_message_paragraph\",children:errorMessage})});};/* harmony default export */ var JoinRoomPage_ErrorMessage = (ErrorMessage_ErrorMessage);\n// CONCATENATED MODULE: ./src/JoinRoomPage/JoinRoomButtons.js\nvar JoinRoomButtons_Button=function Button(_ref){var buttonText=_ref.buttonText,_ref$cancelButton=_ref.cancelButton,cancelButton=_ref$cancelButton===void 0?false:_ref$cancelButton,onClickHandler=_ref.onClickHandler;var buttonClass=cancelButton?\"join_room_cancel_button\":\"join_room_success_button\";return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:onClickHandler,className:buttonClass,children:buttonText});};var JoinRoomButtons_JoinRoomButtons=function JoinRoomButtons(_ref2){var handleJoinRoom=_ref2.handleJoinRoom,isRoomHost=_ref2.isRoomHost;var successButtonText=isRoomHost?\"Host\":\"Join\";var history=Object(react_router[\"f\" /* useHistory */])();var pushToIntroductionPage=function pushToIntroductionPage(){history.push(\"/\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"join_room_buttons_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinRoomButtons_Button,{buttonText:successButtonText,onClickHandler:handleJoinRoom}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinRoomButtons_Button,{buttonText:\"Cancel\",cancelButton:true,onClickHandler:pushToIntroductionPage})]});};/* harmony default export */ var JoinRoomPage_JoinRoomButtons = (JoinRoomButtons_JoinRoomButtons);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(53);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/utils/api.js\nvar serverApi=\"http://localhost:5002/api\";var getRoomExists=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(roomId){var response;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios_default.a.get(\"\".concat(serverApi,\"/room-exists/\").concat(roomId));case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getRoomExists(_x){return _ref.apply(this,arguments);};}();var getTURNCredentials=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(){var response;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios_default.a.get(\"\".concat(serverApi,\"/get-turn-credentials\"));case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getTURNCredentials(){return _ref2.apply(this,arguments);};}();\n// CONCATENATED MODULE: ./src/JoinRoomPage/JoinRoomContent.js\nvar JoinRoomContent_JoinRoomContent=function JoinRoomContent(props){var isRoomHost=props.isRoomHost,setConnectOnlyWithAudio=props.setConnectOnlyWithAudio,connectOnlyWithAudio=props.connectOnlyWithAudio,setIdentityAction=props.setIdentityAction,setRoomIdAction=props.setRoomIdAction;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),roomIdValue=_useState2[0],setRoomIdValue=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),nameValue=_useState4[0],setNameValue=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var history=Object(react_router[\"f\" /* useHistory */])();var handleJoinRoom=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIdentityAction(nameValue);if(!isRoomHost){_context.next=5;break;}createRoom();_context.next=7;break;case 5:_context.next=7;return joinRoom();case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleJoinRoom(){return _ref.apply(this,arguments);};}();var joinRoom=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(){var responseMessage,roomExists,full;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getRoomExists(roomIdValue);case 2:responseMessage=_context2.sent;roomExists=responseMessage.roomExists,full=responseMessage.full;if(roomExists){if(full){setErrorMessage(\"Meeting is full. Please try again later.\");}else{// join a room !\nsetRoomIdAction(roomIdValue);history.push(\"/room\");}}else{setErrorMessage(\"Meeting not found. Check your meeting id.\");}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function joinRoom(){return _ref2.apply(this,arguments);};}();var createRoom=function createRoom(){history.push(\"/room\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinRoomPage_JoinRoomInputs,{roomIdValue:roomIdValue,setRoomIdValue:setRoomIdValue,nameValue:nameValue,setNameValue:setNameValue,isRoomHost:isRoomHost}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinRoomPage_OnlyWithAudioCheckbox,{setConnectOnlyWithAudio:setConnectOnlyWithAudio,connectOnlyWithAudio:connectOnlyWithAudio}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinRoomPage_ErrorMessage,{errorMessage:errorMessage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinRoomPage_JoinRoomButtons,{handleJoinRoom:handleJoinRoom,isRoomHost:isRoomHost})]});};var JoinRoomContent_mapStoreStateToProps=function mapStoreStateToProps(state){return Object(objectSpread2[\"a\" /* default */])({},state);};var JoinRoomContent_mapActionsToProps=function mapActionsToProps(dispatch){return{setConnectOnlyWithAudio:function setConnectOnlyWithAudio(onlyWithAudio){return dispatch(actions_setConnectOnlyWithAudio(onlyWithAudio));},setIdentityAction:function setIdentityAction(identity){return dispatch(setIdentity(identity));},setRoomIdAction:function setRoomIdAction(roomId){return dispatch(setRoomId(roomId));}};};/* harmony default export */ var JoinRoomPage_JoinRoomContent = (Object(es[\"b\" /* connect */])(JoinRoomContent_mapStoreStateToProps,JoinRoomContent_mapActionsToProps)(JoinRoomContent_JoinRoomContent));\n// EXTERNAL MODULE: ./src/JoinRoomPage/JoinRoomPage.css\nvar JoinRoomPage_JoinRoomPage = __webpack_require__(113);\n\n// CONCATENATED MODULE: ./src/JoinRoomPage/JoinRoomPage.js\nvar JoinRoomPage_JoinRoomPage_JoinRoomPage=function JoinRoomPage(props){var setIsRoomHostAction=props.setIsRoomHostAction,isRoomHost=props.isRoomHost;var search=Object(react_router[\"g\" /* useLocation */])().search;Object(react[\"useEffect\"])(function(){var isRoomHost=new URLSearchParams(search).get(\"host\");if(isRoomHost){setIsRoomHostAction(true);}},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"join_room_page_container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"join_room_page_panel\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinRoomPage_JoinRoomTitle,{isRoomHost:isRoomHost}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(JoinRoomPage_JoinRoomContent,{})]})});};var JoinRoomPage_mapStoreStateToProps=function mapStoreStateToProps(state){return Object(objectSpread2[\"a\" /* default */])({},state);};var JoinRoomPage_mapActionsToProps=function mapActionsToProps(dispatch){return{setIsRoomHostAction:function setIsRoomHostAction(isRoomHost){return dispatch(setIsRoomHost(isRoomHost));}};};/* harmony default export */ var src_JoinRoomPage_JoinRoomPage = (Object(es[\"b\" /* connect */])(JoinRoomPage_mapStoreStateToProps,JoinRoomPage_mapActionsToProps)(JoinRoomPage_JoinRoomPage_JoinRoomPage));\n// CONCATENATED MODULE: ./src/RoomPage/ChatSection/ChatLabel.js\nvar ChatLabel_ChatLabel=function ChatLabel(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat_label_container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"chat_label_paragraph\",children:\"CHAT\"})});};/* harmony default export */ var ChatSection_ChatLabel = (ChatLabel_ChatLabel);\n// CONCATENATED MODULE: ./src/RoomPage/ChatSection/Messages.js\nvar Messages_Message=function Message(_ref){var author=_ref.author,content=_ref.content,sameAuthor=_ref.sameAuthor,messageCreatedByMe=_ref.messageCreatedByMe;var alignClass=messageCreatedByMe?\"message_align_right\":\"message_align_left\";var authorText=messageCreatedByMe?\"You\":author;var contentAdditionalStyles=messageCreatedByMe?\"message_right_styles\":\"message_left_styles\";return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message_container \".concat(alignClass),children:[!sameAuthor&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"message_title\",children:authorText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"message_content \".concat(contentAdditionalStyles),children:content})]});};var Messages_Messages=function Messages(_ref2){var messages=_ref2.messages;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"messages_container\",children:messages.map(function(message,index){var sameAuthor=index>0&&message.identity===messages[index-1].identity;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Messages_Message,{author:message.identity,content:message.content,sameAuthor:sameAuthor,messageCreatedByMe:message.messageCreatedByMe},\"\".concat(message.content).concat(index));})});};var Messages_mapStoreStateToProps=function mapStoreStateToProps(state){return Object(objectSpread2[\"a\" /* default */])({},state);};/* harmony default export */ var ChatSection_Messages = (Object(es[\"b\" /* connect */])(Messages_mapStoreStateToProps)(Messages_Messages));\n// CONCATENATED MODULE: ./src/resources/images/sendMessageButton.svg\n/* harmony default export */ var sendMessageButton = (__webpack_require__.p + \"static/media/sendMessageButton.9add4f6d.svg\");\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js\nvar redux_toolkit_esm = __webpack_require__(76);\n\n// CONCATENATED MODULE: ./src/store/reducer.js\nvar initState={identity:\"\",isRoomHost:false,connectOnlyWithAudio:false,roomId:null,showOverlay:true,participants:[],messages:[],activeConversation:null,directChatHistory:[],socketId:null};var reducer_reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case actions.SET_IS_ROOM_HOST:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{isRoomHost:action.isRoomHost});case actions.SET_CONNECT_ONLY_WITH_AUDIO:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{connectOnlyWithAudio:action.onlyWithAudio});case actions.SET_ROOM_ID:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{roomId:action.roomId});case actions.SET_IDENTITY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{identity:action.identity});case actions.SET_SHOW_OVERLAY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{showOverlay:action.showOverlay});case actions.SET_PARTICIPANTS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{participants:action.participants});case actions.SET_MESSAGES:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{messages:action.messages});case actions.SET_ACTIVE_CONVERSATION:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{activeConversation:action.activeConversation});case actions.SET_DIRECT_CHAT_HISTORY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{directChatHistory:action.directChatHistory});case actions.SET_SOCKET_ID:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{socketId:action.socketId});default:return state;}};/* harmony default export */ var store_reducer = (reducer_reducer);\n// CONCATENATED MODULE: ./src/store/store.js\nvar store=Object(redux_toolkit_esm[\"a\" /* configureStore */])({reducer:store_reducer});/* harmony default export */ var store_store = (store);\n// EXTERNAL MODULE: ./node_modules/socket.io-client/build/esm/index.js + 16 modules\nvar esm = __webpack_require__(79);\n\n// CONCATENATED MODULE: ./src/utils/directMessages.js\nvar appendNewMessageToChatHistory=function appendNewMessageToChatHistory(data){var isAuthor=data.isAuthor,receiverSocketId=data.receiverSocketId,authorSocketId=data.authorSocketId;if(isAuthor){directMessages_appendMessageToChatHistory(receiverSocketId,data);}else{directMessages_appendMessageToChatHistory(authorSocketId,data);}};var directMessages_appendMessageToChatHistory=function appendMessageToChatHistory(userSocketId,data){var chatHistory=Object(toConsumableArray[\"a\" /* default */])(store_store.getState().directChatHistory);var userChatHistory=chatHistory.find(function(h){return h.socketId===userSocketId;});if(userChatHistory){var newDirectMessage={isAuthor:data.isAuthor,messageContent:data.messageContent,identity:data.identity};var newUserChatHistory=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},userChatHistory),{},{chatHistory:[].concat(Object(toConsumableArray[\"a\" /* default */])(userChatHistory.chatHistory),[newDirectMessage])});var newChatHistory=[].concat(Object(toConsumableArray[\"a\" /* default */])(chatHistory.filter(function(h){return h.socketId!==userSocketId;})),[newUserChatHistory]);store_store.dispatch(setDirectChatHistory(newChatHistory));}else{var _newUserChatHistory={socketId:userSocketId,chatHistory:[{isAuthor:data.isAuthor,messageContent:data.messageContent,identity:data.identity}]};var _newChatHistory=[].concat(Object(toConsumableArray[\"a\" /* default */])(chatHistory),[_newUserChatHistory]);store_store.dispatch(setDirectChatHistory(_newChatHistory));}};\n// CONCATENATED MODULE: ./src/utils/wss.js\nvar SERVER=\"http://localhost:5002\";var socket=null;var wss_connectWithSocketIOServer=function connectWithSocketIOServer(){socket=Object(esm[\"a\" /* default */])(SERVER);socket.on(\"connect\",function(){console.log(\"successfully connected with socket io server\");console.log(socket.id);store_store.dispatch(setSocketId(socket.id));});socket.on(\"room-id\",function(data){var roomId=data.roomId;store_store.dispatch(setRoomId(roomId));});socket.on(\"room-update\",function(data){var connectedUsers=data.connectedUsers;store_store.dispatch(setParticipants(connectedUsers));});socket.on(\"conn-prepare\",function(data){var connUserSocketId=data.connUserSocketId;webRTCHandler_prepareNewPeerConnection(connUserSocketId,false);// inform the user which just join the room that we have prepared for incoming connection\nsocket.emit(\"conn-init\",{connUserSocketId:connUserSocketId});});socket.on(\"conn-signal\",function(data){handleSignalingData(data);});socket.on(\"conn-init\",function(data){var connUserSocketId=data.connUserSocketId;webRTCHandler_prepareNewPeerConnection(connUserSocketId,true);});socket.on(\"user-disconnected\",function(data){removePeerConnection(data);});socket.on(\"direct-message\",function(data){appendNewMessageToChatHistory(data);});};var createNewRoom=function createNewRoom(identity,onlyAudio){// emit an event to server that we would like to create new room\nvar data={identity:identity,onlyAudio:onlyAudio};socket.emit(\"create-new-room\",data);};var wss_joinRoom=function joinRoom(identity,roomId,onlyAudio){//emit an event to server that we would to join a room\nvar data={roomId:roomId,identity:identity,onlyAudio:onlyAudio};socket.emit(\"join-room\",data);};var signalPeerData=function signalPeerData(data){socket.emit(\"conn-signal\",data);};var sendDirectMessage=function sendDirectMessage(data){socket.emit(\"direct-message\",data);};\n// EXTERNAL MODULE: ./node_modules/simple-peer/index.js\nvar simple_peer = __webpack_require__(78);\nvar simple_peer_default = /*#__PURE__*/__webpack_require__.n(simple_peer);\n\n// CONCATENATED MODULE: ./src/utils/turn.js\nvar TURNIceServers=null;var fetchTURNCredentials=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var _responseData$token;var responseData;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getTURNCredentials();case 2:responseData=_context.sent;if((_responseData$token=responseData.token)!==null&&_responseData$token!==void 0&&_responseData$token.iceServers){TURNIceServers=responseData.token.iceServers;}return _context.abrupt(\"return\",TURNIceServers);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchTURNCredentials(){return _ref.apply(this,arguments);};}();var getTurnIceServers=function getTurnIceServers(){return TURNIceServers;};\n// CONCATENATED MODULE: ./src/utils/webRTCHandler.js\nvar defaultConstraints={audio:true,video:{width:\"480\",height:\"360\"}};var onlyAudioConstraints={audio:true,video:false};var localStream;var getLocalPreviewAndInitRoomConnection=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(isRoomHost,identity){var roomId,onlyAudio,constraints,_args=arguments;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:roomId=_args.length>2&&_args[2]!==undefined?_args[2]:null;onlyAudio=_args.length>3?_args[3]:undefined;_context.next=4;return fetchTURNCredentials();case 4:constraints=onlyAudio?onlyAudioConstraints:defaultConstraints;navigator.mediaDevices.getUserMedia(constraints).then(function(stream){console.log(\"successfuly received local stream\");localStream=stream;webRTCHandler_showLocalVideoPreview(localStream);// dispatch an action to hide overlay\nstore_store.dispatch(setShowOverlay(false));isRoomHost?createNewRoom(identity,onlyAudio):wss_joinRoom(identity,roomId,onlyAudio);}).catch(function(err){console.log(\"error occurred when trying to get an access to local stream\");console.log(err);});case 6:case\"end\":return _context.stop();}}},_callee);}));return function getLocalPreviewAndInitRoomConnection(_x,_x2){return _ref.apply(this,arguments);};}();var peers={};var streams=[];var webRTCHandler_getConfiguration=function getConfiguration(){var turnIceServers=getTurnIceServers();if(turnIceServers){return{iceServers:[{urls:\"stun:stun.l.google.com:19302\"}].concat(Object(toConsumableArray[\"a\" /* default */])(turnIceServers))};}else{console.warn(\"Using only STUN server\");return{iceServers:[{urls:\"stun:stun.l.google.com:19302\"}]};}};var messengerChannel=\"messenger\";var webRTCHandler_prepareNewPeerConnection=function prepareNewPeerConnection(connUserSocketId,isInitiator){var configuration=webRTCHandler_getConfiguration();peers[connUserSocketId]=new simple_peer_default.a({initiator:isInitiator,config:configuration,stream:localStream,channelName:messengerChannel});peers[connUserSocketId].on(\"signal\",function(data){// webRTC offer, webRTC Answer (SDP informations), ice candidates\nvar signalData={signal:data,connUserSocketId:connUserSocketId};signalPeerData(signalData);});peers[connUserSocketId].on(\"stream\",function(stream){console.log(\"new stream came\");webRTCHandler_addStream(stream,connUserSocketId);streams=[].concat(Object(toConsumableArray[\"a\" /* default */])(streams),[stream]);});peers[connUserSocketId].on(\"data\",function(data){var messageData=JSON.parse(data);webRTCHandler_appendNewMessage(messageData);});};var handleSignalingData=function handleSignalingData(data){//add signaling data to peer connection\npeers[data.connUserSocketId].signal(data.signal);};var removePeerConnection=function removePeerConnection(data){var socketId=data.socketId;var videoContainer=document.getElementById(socketId);var videoEl=document.getElementById(\"\".concat(socketId,\"-video\"));if(videoContainer&&videoEl){var tracks=videoEl.srcObject.getTracks();tracks.forEach(function(t){return t.stop();});videoEl.srcObject=null;videoContainer.removeChild(videoEl);videoContainer.parentNode.removeChild(videoContainer);if(peers[socketId]){peers[socketId].destroy();}delete peers[socketId];}};////////////////////////////////// UI Videos //////////////////////////////////\nvar webRTCHandler_showLocalVideoPreview=function showLocalVideoPreview(stream){var videosContainer=document.getElementById(\"videos_portal\");videosContainer.classList.add(\"videos_portal_styles\");var videoContainer=document.createElement(\"div\");videoContainer.classList.add(\"video_track_container\");var videoElement=document.createElement(\"video\");videoElement.autoplay=true;videoElement.muted=true;videoElement.srcObject=stream;videoElement.onloadedmetadata=function(){videoElement.play();};videoContainer.appendChild(videoElement);if(store_store.getState().connectOnlyWithAudio){videoContainer.appendChild(getAudioOnlyLabel());}videosContainer.appendChild(videoContainer);};var webRTCHandler_addStream=function addStream(stream,connUserSocketId){//display incoming stream\nvar videosContainer=document.getElementById(\"videos_portal\");var videoContainer=document.createElement(\"div\");videoContainer.id=connUserSocketId;videoContainer.classList.add(\"video_track_container\");var videoElement=document.createElement(\"video\");videoElement.autoplay=true;videoElement.srcObject=stream;videoElement.id=\"\".concat(connUserSocketId,\"-video\");videoElement.onloadedmetadata=function(){videoElement.play();};videoElement.addEventListener(\"click\",function(){if(videoElement.classList.contains(\"full_screen\")){videoElement.classList.remove(\"full_screen\");}else{videoElement.classList.add(\"full_screen\");}});videoContainer.appendChild(videoElement);// check if other user connected only with audio\nvar participants=store_store.getState().participants;var participant=participants.find(function(p){return p.socketId===connUserSocketId;});console.log(participant);if(participant!==null&&participant!==void 0&&participant.onlyAudio){videoContainer.appendChild(getAudioOnlyLabel(participant.identity));}else{videoContainer.style.position=\"static\";}videosContainer.appendChild(videoContainer);};var getAudioOnlyLabel=function getAudioOnlyLabel(){var identity=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";var labelContainer=document.createElement(\"div\");labelContainer.classList.add(\"label_only_audio_container\");var label=document.createElement(\"p\");label.classList.add(\"label_only_audio_text\");label.innerHTML=\"Only audio \".concat(identity);labelContainer.appendChild(label);return labelContainer;};////////////////////////////////// Buttons logic //////////////////////////////////\nvar toggleMic=function toggleMic(isMuted){localStream.getAudioTracks()[0].enabled=isMuted?true:false;};var toggleCamera=function toggleCamera(isDisabled){localStream.getVideoTracks()[0].enabled=isDisabled?true:false;};var toggleScreenShare=function toggleScreenShare(isScreenSharingActive){var screenSharingStream=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(isScreenSharingActive){switchVideoTracks(localStream);}else{switchVideoTracks(screenSharingStream);}};var switchVideoTracks=function switchVideoTracks(stream){for(var socket_id in peers){for(var index in peers[socket_id].streams[0].getTracks()){for(var index2 in stream.getTracks()){if(peers[socket_id].streams[0].getTracks()[index].kind===stream.getTracks()[index2].kind){peers[socket_id].replaceTrack(peers[socket_id].streams[0].getTracks()[index],stream.getTracks()[index2],peers[socket_id].streams[0]);break;}}}}};////////////////////////////////// Messages /////////////////////////////////////\nvar webRTCHandler_appendNewMessage=function appendNewMessage(messageData){var messages=store_store.getState().messages;store_store.dispatch(actions_setMessages([].concat(Object(toConsumableArray[\"a\" /* default */])(messages),[messageData])));};var webRTCHandler_sendMessageUsingDataChannel=function sendMessageUsingDataChannel(messageContent){// append this message locally\nvar identity=store_store.getState().identity;var localMessageData={content:messageContent,identity:identity,messageCreatedByMe:true};webRTCHandler_appendNewMessage(localMessageData);var messageData={content:messageContent,identity:identity};var stringifiedMessageData=JSON.stringify(messageData);for(var socketId in peers){peers[socketId].send(stringifiedMessageData);}};\n// CONCATENATED MODULE: ./src/RoomPage/ChatSection/NewMessage.js\nvar NewMessage_NewMessage=function NewMessage(){var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var handleTextChange=function handleTextChange(event){setMessage(event.target.value);};var handleKeyPressed=function handleKeyPressed(event){if(event.key===\"Enter\"){event.preventDefault();// send message to other users\nsendMessage();}};var sendMessage=function sendMessage(){if(message.length>0){webRTCHandler_sendMessageUsingDataChannel(message);setMessage(\"\");}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"new_message_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"new_message_input\",value:message,onChange:handleTextChange,placeholder:\"Type your message ...\",type:\"text\",onKeyDown:handleKeyPressed}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"new_message_button\",src:sendMessageButton,onClick:sendMessage})]});};/* harmony default export */ var ChatSection_NewMessage = (NewMessage_NewMessage);\n// CONCATENATED MODULE: ./src/RoomPage/ChatSection/ChatSection.js\nvar ChatSection_ChatSection=function ChatSection(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat_section_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatSection_ChatLabel,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatSection_Messages,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatSection_NewMessage,{})]});};/* harmony default export */ var RoomPage_ChatSection_ChatSection = (ChatSection_ChatSection);\n// CONCATENATED MODULE: ./src/RoomPage/ParticipantsSection/ParticipantsLabel.js\nvar ParticipantsLabel_ParticipantsLabel=function ParticipantsLabel(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"participants_label_container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"participants_label_paragraph\",children:\"PARTICIPANTS\"})});};/* harmony default export */ var ParticipantsSection_ParticipantsLabel = (ParticipantsLabel_ParticipantsLabel);\n// CONCATENATED MODULE: ./src/RoomPage/ParticipantsSection/Participants.js\nvar Participants_SingleParticipant=function SingleParticipant(props){var identity=props.identity,lastItem=props.lastItem,participant=props.participant,setActiveConversationAction=props.setActiveConversationAction,socketId=props.socketId;var handleOpenActiveChatbox=function handleOpenActiveChatbox(){if(participant.socketId!==socketId){setActiveConversationAction(participant);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"participants_paragraph\",onClick:handleOpenActiveChatbox,children:identity}),!lastItem&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"participants_separator_line\"})]});};var Participants_Participants=function Participants(_ref){var participants=_ref.participants,setActiveConversationAction=_ref.setActiveConversationAction,socketId=_ref.socketId;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"participants_container\",children:participants.map(function(participant,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Participants_SingleParticipant,{lastItem:participants.length===index+1,participant:participant,identity:participant.identity,setActiveConversationAction:setActiveConversationAction,socketId:socketId},participant.identity);})});};var Participants_mapStoreStateToProps=function mapStoreStateToProps(state){return Object(objectSpread2[\"a\" /* default */])({},state);};var Participants_mapActionsToProps=function mapActionsToProps(dispatch){return{setActiveConversationAction:function setActiveConversationAction(activeConversation){return dispatch(setActiveConversation(activeConversation));}};};/* harmony default export */ var ParticipantsSection_Participants = (Object(es[\"b\" /* connect */])(Participants_mapStoreStateToProps,Participants_mapActionsToProps)(Participants_Participants));\n// CONCATENATED MODULE: ./src/RoomPage/ParticipantsSection/DirectChat/MessagesContainer.js\nvar MessagesContainer_SingleMessage=function SingleMessage(_ref){var isAuthor=_ref.isAuthor,messageContent=_ref.messageContent;var messageStyling=isAuthor?\"author_direct_message\":\"receiver_direct_message\";var containerStyling=isAuthor?\"direct_message_container_author\":\"direct_message_container_receiver\";return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:containerStyling,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:messageStyling,children:messageContent})});};var MessagesContainer_MessagesContainer=function MessagesContainer(_ref2){var messages=_ref2.messages;var scrollRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){if(scrollRef){scrollRef.current.scrollIntoView({behavior:\"smooth\"});}},[messages]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"direct_messages_container\",children:[messages.map(function(message){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MessagesContainer_SingleMessage,{messageContent:message.messageContent,isAuthor:message.isAuthor},\"\".concat(message.messageContent,\"-\").concat(message.identity));}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{ref:scrollRef})]});};/* harmony default export */ var DirectChat_MessagesContainer = (MessagesContainer_MessagesContainer);\n// CONCATENATED MODULE: ./src/RoomPage/ParticipantsSection/DirectChat/NewMessage.js\nvar DirectChat_NewMessage_NewMessage=function NewMessage(_ref){var activeConversation=_ref.activeConversation,identity=_ref.identity;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),message=_useState2[0],setMessage=_useState2[1];var sendMessage=function sendMessage(){sendDirectMessage({receiverSocketId:activeConversation.socketId,identity:identity,messageContent:message});setMessage(\"\");};var handleTextChange=function handleTextChange(event){setMessage(event.target.value);};var handleKeyPressed=function handleKeyPressed(event){if(event.key===\"Enter\"){event.preventDefault();sendMessage();}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"new_message_container new_message_direct_border\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"new_message_input\",value:message,onChange:handleTextChange,placeholder:\"Type your message..\",type:\"text\",onKeyDown:handleKeyPressed}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"new_message_button\",src:sendMessageButton,onClick:sendMessage})]});};var NewMessage_mapStoreStateToProps=function mapStoreStateToProps(state){return Object(objectSpread2[\"a\" /* default */])({},state);};/* harmony default export */ var DirectChat_NewMessage = (Object(es[\"b\" /* connect */])(NewMessage_mapStoreStateToProps)(DirectChat_NewMessage_NewMessage));\n// CONCATENATED MODULE: ./src/RoomPage/ParticipantsSection/DirectChat/ConversationNotChosen.js\nvar ConversationNotChosen_ConversationNotChosen=function ConversationNotChosen(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"conversation_not_chosen_overlay\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"conversation_not_chosen_overlay_text\",children:\"Conversation not chosen\"})});};/* harmony default export */ var DirectChat_ConversationNotChosen = (ConversationNotChosen_ConversationNotChosen);\n// CONCATENATED MODULE: ./src/RoomPage/ParticipantsSection/DirectChat/DirectChatHeader.js\nvar DirectChatHeader_DirectChatHeader=function DirectChatHeader(_ref){var activeConversation=_ref.activeConversation;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"direct_chat_header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"direct_chat_header_paragraph\",children:activeConversation?activeConversation.identity:''})});};/* harmony default export */ var DirectChat_DirectChatHeader = (DirectChatHeader_DirectChatHeader);\n// CONCATENATED MODULE: ./src/RoomPage/ParticipantsSection/DirectChat/DirectChat.js\nvar getDirectChatHistory=function getDirectChatHistory(directChatHistory){var socketId=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;console.log(directChatHistory);console.log(socketId);if(!socketId||!directChatHistory){return[];}var history=directChatHistory.find(function(h){return h.socketId===socketId;});return history?history.chatHistory:[];};var DirectChat_DirectChat=function DirectChat(_ref){var activeConversation=_ref.activeConversation,directChatHistory=_ref.directChatHistory;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),messages=_useState2[0],setMessages=_useState2[1];Object(react[\"useEffect\"])(function(){setMessages(getDirectChatHistory(directChatHistory,activeConversation?activeConversation.socketId:null));},[activeConversation,directChatHistory]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"direct_chat_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DirectChat_DirectChatHeader,{activeConversation:activeConversation}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DirectChat_MessagesContainer,{messages:messages}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DirectChat_NewMessage,{}),!activeConversation&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DirectChat_ConversationNotChosen,{})]});};var DirectChat_mapStoreStateToProps=function mapStoreStateToProps(state){return Object(objectSpread2[\"a\" /* default */])({},state);};/* harmony default export */ var ParticipantsSection_DirectChat_DirectChat = (Object(es[\"b\" /* connect */])(DirectChat_mapStoreStateToProps)(DirectChat_DirectChat));\n// CONCATENATED MODULE: ./src/RoomPage/ParticipantsSection/ParticipantsSection.js\nvar ParticipantsSection_ParticipantsSection=function ParticipantsSection(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"participants_section_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ParticipantsSection_ParticipantsLabel,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ParticipantsSection_Participants,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ParticipantsSection_DirectChat_DirectChat,{})]});};/* harmony default export */ var RoomPage_ParticipantsSection_ParticipantsSection = (ParticipantsSection_ParticipantsSection);\n// CONCATENATED MODULE: ./src/resources/images/camera.svg\n/* harmony default export */ var camera = (__webpack_require__.p + \"static/media/camera.b50348a3.svg\");\n// CONCATENATED MODULE: ./src/resources/images/cameraOff.svg\n/* harmony default export */ var cameraOff = (__webpack_require__.p + \"static/media/cameraOff.a61d4a02.svg\");\n// CONCATENATED MODULE: ./src/RoomPage/VideoSection/CameraButton.js\nvar CameraButton_CameraButton=function CameraButton(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isLocalVideoDisabled=_useState2[0],setIsLocalVideoDisabled=_useState2[1];var handleCameraButtonPressed=function handleCameraButtonPressed(){toggleCamera(isLocalVideoDisabled);setIsLocalVideoDisabled(!isLocalVideoDisabled);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"video_button_container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:isLocalVideoDisabled?cameraOff:camera,className:\"video_button_image\",onClick:handleCameraButtonPressed})});};/* harmony default export */ var VideoSection_CameraButton = (CameraButton_CameraButton);\n// CONCATENATED MODULE: ./src/RoomPage/VideoSection/LeaveRoomButton.js\nvar LeaveRoomButton_LeaveRoomButton=function LeaveRoomButton(){var handleRoomDisconnection=function handleRoomDisconnection(){var siteUrl=window.location.origin;window.location.href=siteUrl;};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"video_button_container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"video_button_end\",onClick:handleRoomDisconnection,children:\"Leave Room\"})});};/* harmony default export */ var VideoSection_LeaveRoomButton = (LeaveRoomButton_LeaveRoomButton);\n// CONCATENATED MODULE: ./src/resources/images/mic.svg\n/* harmony default export */ var mic = (__webpack_require__.p + \"static/media/mic.c9c9788e.svg\");\n// CONCATENATED MODULE: ./src/resources/images/micOff.svg\n/* harmony default export */ var micOff = (__webpack_require__.p + \"static/media/micOff.3a72f682.svg\");\n// CONCATENATED MODULE: ./src/RoomPage/VideoSection/MicButton.js\nvar MicButton_MicButton=function MicButton(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isMicMuted=_useState2[0],setIsMicMuted=_useState2[1];var handleMicButtonPressed=function handleMicButtonPressed(){toggleMic(isMicMuted);setIsMicMuted(!isMicMuted);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"video_button_container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:isMicMuted?micOff:mic,onClick:handleMicButtonPressed,className:\"video_button_image\"})});};/* harmony default export */ var VideoSection_MicButton = (MicButton_MicButton);\n// CONCATENATED MODULE: ./src/resources/images/switchToScreenSharing.svg\n/* harmony default export */ var switchToScreenSharing = (__webpack_require__.p + \"static/media/switchToScreenSharing.900d9338.svg\");\n// CONCATENATED MODULE: ./src/RoomPage/VideoSection/LocalScreenSharingPreview.js\nvar LocalScreenSharingPreview_LocalScreenSharingPreview=function LocalScreenSharingPreview(_ref){var stream=_ref.stream;var localPreviewRef=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){var video=localPreviewRef.current;video.srcObject=stream;video.onloadedmetadata=function(){video.play();};},[stream]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"local_screen_share_preview\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"video\",{muted:true,autoPlay:true,ref:localPreviewRef})});};/* harmony default export */ var VideoSection_LocalScreenSharingPreview = (LocalScreenSharingPreview_LocalScreenSharingPreview);\n// CONCATENATED MODULE: ./src/RoomPage/VideoSection/SwitchToScreenSharingButton.js\nvar SwitchToScreenSharingButton_constraints={audio:false,video:true};var SwitchToScreenSharingButton_SwitchToScreenSharingButton=function SwitchToScreenSharingButton(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isScreenSharingActive=_useState2[0],setIsScreenSharingActive=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),screenSharingStream=_useState4[0],setScreenSharingStream=_useState4[1];var handleScreenShareToggle=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var stream;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(isScreenSharingActive){_context.next=14;break;}stream=null;_context.prev=2;_context.next=5;return navigator.mediaDevices.getDisplayMedia(SwitchToScreenSharingButton_constraints);case 5:stream=_context.sent;_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);console.log(\"error occurred when trying to get an access to screen share stream\");case 11:if(stream){setScreenSharingStream(stream);toggleScreenShare(isScreenSharingActive,stream);setIsScreenSharingActive(true);// execute here function to switch the video track which we are sending to other users\n}_context.next=18;break;case 14:toggleScreenShare(isScreenSharingActive);setIsScreenSharingActive(false);// stop screen share stream\nscreenSharingStream.getTracks().forEach(function(t){return t.stop();});setScreenSharingStream(null);case 18:case\"end\":return _context.stop();}}},_callee,null,[[2,8]]);}));return function handleScreenShareToggle(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"video_button_container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:switchToScreenSharing,onClick:handleScreenShareToggle,className:\"video_button_image\"})}),isScreenSharingActive&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoSection_LocalScreenSharingPreview,{stream:screenSharingStream})]});};/* harmony default export */ var VideoSection_SwitchToScreenSharingButton = (SwitchToScreenSharingButton_SwitchToScreenSharingButton);\n// CONCATENATED MODULE: ./src/RoomPage/VideoSection/VideoButtons.js\nvar VideoButtons_VideoButtons=function VideoButtons(props){var connectOnlyWithAudio=props.connectOnlyWithAudio;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"video_buttons_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoSection_MicButton,{}),!connectOnlyWithAudio&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoSection_CameraButton,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoSection_LeaveRoomButton,{}),!connectOnlyWithAudio&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoSection_SwitchToScreenSharingButton,{})]});};var VideoButtons_mapStoreStateToProps=function mapStoreStateToProps(state){return Object(objectSpread2[\"a\" /* default */])({},state);};/* harmony default export */ var VideoSection_VideoButtons = (Object(es[\"b\" /* connect */])(VideoButtons_mapStoreStateToProps)(VideoButtons_VideoButtons));\n// CONCATENATED MODULE: ./src/RoomPage/VideoSection/VideoSection.js\nvar VideoSection_VideoSection=function VideoSection(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"video_section_container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(VideoSection_VideoButtons,{})});};/* harmony default export */ var RoomPage_VideoSection_VideoSection = (VideoSection_VideoSection);\n// CONCATENATED MODULE: ./src/RoomPage/RoomLabel.js\nvar RoomLabel_RoomLabel=function RoomLabel(_ref){var roomId=_ref.roomId;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"room_label\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"room_label_paragraph\",children:[\"ID: \",roomId,\" \"]})});};/* harmony default export */ var RoomPage_RoomLabel = (RoomLabel_RoomLabel);\n// CONCATENATED MODULE: ./src/RoomPage/Overlay.js\nvar Overlay_Overlay=function Overlay(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"overlay_container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"loader\"})});};/* harmony default export */ var RoomPage_Overlay = (Overlay_Overlay);\n// EXTERNAL MODULE: ./src/RoomPage/RoomPage.css\nvar RoomPage_RoomPage = __webpack_require__(147);\n\n// CONCATENATED MODULE: ./src/RoomPage/RoomPage.js\nvar RoomPage_RoomPage_RoomPage=function RoomPage(_ref){var roomId=_ref.roomId,identity=_ref.identity,isRoomHost=_ref.isRoomHost,showOverlay=_ref.showOverlay,connectOnlyWithAudio=_ref.connectOnlyWithAudio;Object(react[\"useEffect\"])(function(){if(!isRoomHost&&!roomId){var siteUrl=window.location.origin;window.location.href=siteUrl;}else{getLocalPreviewAndInitRoomConnection(isRoomHost,identity,roomId,connectOnlyWithAudio);}},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"room_container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomPage_ParticipantsSection_ParticipantsSection,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomPage_VideoSection_VideoSection,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomPage_ChatSection_ChatSection,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomPage_RoomLabel,{roomId:roomId}),showOverlay&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RoomPage_Overlay,{})]});};var RoomPage_mapStoreStateToProps=function mapStoreStateToProps(state){return Object(objectSpread2[\"a\" /* default */])({},state);};/* harmony default export */ var src_RoomPage_RoomPage = (Object(es[\"b\" /* connect */])(RoomPage_mapStoreStateToProps)(RoomPage_RoomPage_RoomPage));\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(148);\n\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){Object(react[\"useEffect\"])(function(){wss_connectWithSocketIOServer();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/join-room\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_JoinRoomPage_JoinRoomPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/room\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_RoomPage_RoomPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_IntroductionPage_IntroductionPage,{})})]})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();});}}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Provider */],{store:store,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById('root'));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nunregister();\n\n/***/ }),\n\n/***/ 84:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 94:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[149,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\JoinRoomPage\\JoinRoomPage.css","ignored C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\readable-stream\\lib util","ignored C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\readable-stream\\lib\\internal\\streams util","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\RoomPage\\RoomPage.css","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\App.css","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\resources\\images\\logo.png","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/IntroductionPage/ConnectingButton.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/IntroductionPage/ConnectingButtons.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/store/actions.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/IntroductionPage/IntroductionPage.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/JoinRoomPage/JoinRoomTitle.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/JoinRoomPage/JoinRoomInputs.js","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\resources\\images\\check.png","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/JoinRoomPage/OnlyWithAudioCheckbox.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/JoinRoomPage/ErrorMessage.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/JoinRoomPage/JoinRoomButtons.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/utils/api.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/JoinRoomPage/JoinRoomContent.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/JoinRoomPage/JoinRoomPage.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ChatSection/ChatLabel.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ChatSection/Messages.js","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\resources\\images\\sendMessageButton.svg","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/store/reducer.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/store/store.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/utils/directMessages.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/utils/wss.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/utils/turn.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/utils/webRTCHandler.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ChatSection/NewMessage.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ChatSection/ChatSection.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ParticipantsSection/ParticipantsLabel.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ParticipantsSection/Participants.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ParticipantsSection/DirectChat/MessagesContainer.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ParticipantsSection/DirectChat/NewMessage.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ParticipantsSection/DirectChat/ConversationNotChosen.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ParticipantsSection/DirectChat/DirectChatHeader.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ParticipantsSection/DirectChat/DirectChat.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/ParticipantsSection/ParticipantsSection.js","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\resources\\images\\camera.svg","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\resources\\images\\cameraOff.svg","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/VideoSection/CameraButton.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/VideoSection/LeaveRoomButton.js","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\resources\\images\\mic.svg","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\resources\\images\\micOff.svg","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/VideoSection/MicButton.js","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\file-loader\\dist\\cjs.js??ref--5-oneOf-8!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\resources\\images\\switchToScreenSharing.svg","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/VideoSection/LocalScreenSharingPreview.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/VideoSection/SwitchToScreenSharingButton.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/VideoSection/VideoButtons.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/VideoSection/VideoSection.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/RoomLabel.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/Overlay.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/RoomPage/RoomPage.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/App.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/serviceWorker.js","C:/Users/Jahanvi Chaudhary/Desktop/webRTC-advanced/client/src/index.js","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\index.css","C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Jahanvi Chaudhary\\Desktop\\webRTC-advanced\\client\\src\\IntroductionPage\\IntroductionPage.css"],"names":["ConnectingButton","createRoomButton","buttonText","onClickHandler","buttonClass","ConnectingButtons","history","useHistory","pushToJoinRoomPage","push","pushToJoinRoomPageAsHost","Actions","SET_IS_ROOM_HOST","SET_CONNECT_ONLY_WITH_AUDIO","SET_IDENTITY","SET_ROOM_ID","SET_SHOW_OVERLAY","SET_PARTICIPANTS","SET_MESSAGES","SET_ACTIVE_CONVERSATION","SET_DIRECT_CHAT_HISTORY","SET_SOCKET_ID","setIsRoomHost","isRoomHost","type","setConnectOnlyWithAudio","onlyWithAudio","setIdentity","identity","setRoomId","roomId","setShowOverlay","showOverlay","setParticipants","participants","setMessages","messages","setActiveConversation","activeConversation","setDirectChatHistory","directChatHistory","setSocketId","socketId","IntroductionPage","setIsRoomHostAction","useEffect","logo","mapActionsToProps","dispatch","connect","JoinRoomTitle","titleText","Input","placeholder","value","changeHandler","JoinRoomInputs","props","roomIdValue","setRoomIdValue","nameValue","setNameValue","handleRoomIdValueChange","event","target","handleNameValueChange","OnlyWithAudioCheckbox","connectOnlyWithAudio","handleConnectionTypeChange","CheckImg","ErrorMessage","errorMessage","Button","cancelButton","JoinRoomButtons","handleJoinRoom","successButtonText","pushToIntroductionPage","serverApi","getRoomExists","axios","get","response","data","getTURNCredentials","JoinRoomContent","setIdentityAction","setRoomIdAction","useState","setErrorMessage","createRoom","joinRoom","responseMessage","roomExists","full","mapStoreStateToProps","state","JoinRoomPage","search","useLocation","URLSearchParams","ChatLabel","Message","author","content","sameAuthor","messageCreatedByMe","alignClass","authorText","contentAdditionalStyles","Messages","map","message","index","initState","reducer","action","store","configureStore","appendNewMessageToChatHistory","isAuthor","receiverSocketId","authorSocketId","appendMessageToChatHistory","userSocketId","chatHistory","getState","userChatHistory","find","h","newDirectMessage","messageContent","newUserChatHistory","newChatHistory","filter","SERVER","socket","connectWithSocketIOServer","io","on","console","log","id","connectedUsers","connUserSocketId","webRTCHandler","emit","createNewRoom","onlyAudio","signalPeerData","sendDirectMessage","TURNIceServers","fetchTURNCredentials","api","responseData","token","iceServers","getTurnIceServers","defaultConstraints","audio","video","width","height","onlyAudioConstraints","localStream","getLocalPreviewAndInitRoomConnection","constraints","navigator","mediaDevices","getUserMedia","then","stream","showLocalVideoPreview","wss","catch","err","peers","streams","getConfiguration","turnIceServers","urls","warn","messengerChannel","prepareNewPeerConnection","isInitiator","configuration","Peer","initiator","config","channelName","signalData","signal","addStream","messageData","JSON","parse","appendNewMessage","handleSignalingData","removePeerConnection","videoContainer","document","getElementById","videoEl","tracks","srcObject","getTracks","forEach","t","stop","removeChild","parentNode","destroy","videosContainer","classList","add","createElement","videoElement","autoplay","muted","onloadedmetadata","play","appendChild","getAudioOnlyLabel","addEventListener","contains","remove","participant","p","style","position","labelContainer","label","innerHTML","toggleMic","isMuted","getAudioTracks","enabled","toggleCamera","isDisabled","getVideoTracks","toggleScreenShare","isScreenSharingActive","screenSharingStream","switchVideoTracks","socket_id","index2","kind","replaceTrack","sendMessageUsingDataChannel","localMessageData","stringifiedMessageData","stringify","send","NewMessage","setMessage","handleTextChange","handleKeyPressed","key","preventDefault","sendMessage","length","SendMessageButton","ChatSection","ParticipantsLabel","SingleParticipant","lastItem","setActiveConversationAction","handleOpenActiveChatbox","Participants","SingleMessage","messageStyling","containerStyling","MessagesContainer","scrollRef","useRef","current","scrollIntoView","behavior","sendMessageButton","ConversationNotChosen","DirectChatHeader","getDirectChatHistory","DirectChat","ParticipantsSection","CameraButton","isLocalVideoDisabled","setIsLocalVideoDisabled","handleCameraButtonPressed","CameraButtonImgOff","CameraButtonImg","LeaveRoomButton","handleRoomDisconnection","siteUrl","window","location","origin","href","MicButton","isMicMuted","setIsMicMuted","handleMicButtonPressed","MicButtonImgOff","MicButtonImg","LocalScreenSharingPreview","localPreviewRef","SwitchToScreenSharingButton","setIsScreenSharingActive","setScreenSharingStream","handleScreenShareToggle","getDisplayMedia","SwitchImg","VideoButtons","VideoSection","RoomLabel","Overlay","RoomPage","App","isLocalhost","Boolean","hostname","match","register","process","publicUrl","URL","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","error","fetch","headers","contentType","status","indexOf","unregister","reload","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","export default \"data:image/png;base64,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\"","import React from \"react\";\r\n\r\nconst ConnectingButton = ({\r\n  createRoomButton = false,\r\n  buttonText,\r\n  onClickHandler,\r\n}) => {\r\n  const buttonClass = createRoomButton\r\n    ? \"create_room_button\"\r\n    : \"join_room_button\";\r\n\r\n  return (\r\n    <button className={buttonClass} onClick={onClickHandler}>\r\n      {buttonText}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ConnectingButton;\r\n","import React from \"react\";\r\nimport ConnectingButton from \"./ConnectingButton\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst ConnectingButtons = () => {\r\n  let history = useHistory();\r\n\r\n  const pushToJoinRoomPage = () => {\r\n    history.push(\"/join-room\");\r\n  };\r\n\r\n  const pushToJoinRoomPageAsHost = () => {\r\n    history.push(\"/join-room?host=true\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"connecting_buttons_container\">\r\n      <ConnectingButton\r\n        buttonText=\"Join a meeting\"\r\n        onClickHandler={pushToJoinRoomPage}\r\n      />\r\n      <ConnectingButton\r\n        createRoomButton\r\n        buttonText=\"Host a meeting\"\r\n        onClickHandler={pushToJoinRoomPageAsHost}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConnectingButtons;\r\n","const Actions = {\r\n  SET_IS_ROOM_HOST: \"SET_IS_ROOM_HOST\",\r\n  SET_CONNECT_ONLY_WITH_AUDIO: \"SET_CONNECT_ONLY_WITH_AUDIO\",\r\n  SET_IDENTITY: \"SET_IDENTITY\",\r\n  SET_ROOM_ID: \"SET_ROOM_ID\",\r\n  SET_SHOW_OVERLAY: \"SET_SHOW_OVERLAY\",\r\n  SET_PARTICIPANTS: \"SET_PARTICIPANTS\",\r\n  SET_MESSAGES: \"SET_MESSAGES\",\r\n  SET_ACTIVE_CONVERSATION: 'SET_ACTIVE_CONVERSATION',\r\n  SET_DIRECT_CHAT_HISTORY: 'SET_DIRECT_CHAT_HISTORY',\r\n  SET_SOCKET_ID: 'SET_SOCKET_ID'\r\n};\r\n\r\nexport const setIsRoomHost = (isRoomHost) => {\r\n  return {\r\n    type: Actions.SET_IS_ROOM_HOST,\r\n    isRoomHost,\r\n  };\r\n};\r\n\r\nexport const setConnectOnlyWithAudio = (onlyWithAudio) => {\r\n  return {\r\n    type: Actions.SET_CONNECT_ONLY_WITH_AUDIO,\r\n    onlyWithAudio,\r\n  };\r\n};\r\n\r\nexport const setIdentity = (identity) => {\r\n  return {\r\n    type: Actions.SET_IDENTITY,\r\n    identity,\r\n  };\r\n};\r\n\r\nexport const setRoomId = (roomId) => {\r\n  return {\r\n    type: Actions.SET_ROOM_ID,\r\n    roomId,\r\n  };\r\n};\r\n\r\nexport const setShowOverlay = (showOverlay) => {\r\n  return {\r\n    type: Actions.SET_SHOW_OVERLAY,\r\n    showOverlay,\r\n  };\r\n};\r\n\r\nexport const setParticipants = (participants) => {\r\n  return {\r\n    type: Actions.SET_PARTICIPANTS,\r\n    participants,\r\n  };\r\n};\r\n\r\nexport const setMessages = (messages) => {\r\n  return {\r\n    type: Actions.SET_MESSAGES,\r\n    messages,\r\n  };\r\n};\r\n\r\nexport const setActiveConversation = (activeConversation) => {\r\n  return {\r\n    type: Actions.SET_ACTIVE_CONVERSATION,\r\n    activeConversation\r\n  }\r\n}\r\n\r\nexport const setDirectChatHistory = (directChatHistory) => {\r\n  return {\r\n    type: Actions.SET_DIRECT_CHAT_HISTORY,\r\n    directChatHistory\r\n  }\r\n}\r\n\r\nexport const setSocketId = (socketId) => {\r\n  return {\r\n    type: Actions.SET_SOCKET_ID,\r\n    socketId\r\n  }\r\n}\r\n\r\nexport default Actions;\r\n","import React, { useEffect } from \"react\";\r\nimport logo from \"../resources/images/logo.png\";\r\nimport ConnectingButtons from \"./ConnectingButtons\";\r\nimport { connect } from \"react-redux\";\r\nimport { setIsRoomHost } from \"../store/actions\";\r\n\r\nimport \"./IntroductionPage.css\";\r\n\r\nconst IntroductionPage = ({ setIsRoomHostAction }) => {\r\n  useEffect(() => {\r\n    setIsRoomHostAction(false);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"introduction_page_container\">\r\n      <div className=\"introduction_page_panel\">\r\n        <img src={logo} className=\"introduction_page_image\"></img>\r\n        <ConnectingButtons />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    setIsRoomHostAction: (isRoomHost) => dispatch(setIsRoomHost(isRoomHost)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(IntroductionPage);\r\n","import React from \"react\";\r\n\r\nconst JoinRoomTitle = ({ isRoomHost }) => {\r\n  const titleText = isRoomHost ? \"Host meeting\" : \"Join meeting\";\r\n\r\n  return <p className=\"join_room_title\">{titleText}</p>;\r\n};\r\n\r\nexport default JoinRoomTitle;\r\n","import React from \"react\";\r\n\r\nconst Input = ({ placeholder, value, changeHandler }) => {\r\n  return (\r\n    <input\r\n      value={value}\r\n      onChange={changeHandler}\r\n      className=\"join_room_input\"\r\n      placeholder={placeholder}\r\n    />\r\n  );\r\n};\r\n\r\nconst JoinRoomInputs = (props) => {\r\n  const { roomIdValue, setRoomIdValue, nameValue, setNameValue, isRoomHost } =\r\n    props;\r\n\r\n  const handleRoomIdValueChange = (event) => {\r\n    setRoomIdValue(event.target.value);\r\n  };\r\n\r\n  const handleNameValueChange = (event) => {\r\n    setNameValue(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"join_room_inputs_container\">\r\n      {!isRoomHost && (\r\n        <Input\r\n          placeholder=\"Enter meeting ID\"\r\n          value={roomIdValue}\r\n          changeHandler={handleRoomIdValueChange}\r\n        />\r\n      )}\r\n      <Input\r\n        placeholder=\"Enter your Name\"\r\n        value={nameValue}\r\n        changeHandler={handleNameValueChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JoinRoomInputs;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABiSURBVHgB7ZHBCQAgCEUdpREaoY0boREaoREawQw8hNShFLz04EOHz8MU4OMKIgZKpkTQwrJG6fMNGoRMN52fjMvltI/ryWaJy01Kn7+5k6p3JqTJ5ACLFE2uuUiriezjywAgdcf6AfL4kwAAAABJRU5ErkJggg==\"","import React from \"react\";\r\nimport CheckImg from \"../resources/images/check.png\";\r\n\r\nconst OnlyWithAudioCheckbox = ({\r\n  connectOnlyWithAudio,\r\n  setConnectOnlyWithAudio,\r\n}) => {\r\n  const handleConnectionTypeChange = () => {\r\n    setConnectOnlyWithAudio(!connectOnlyWithAudio);\r\n  };\r\n\r\n  return (\r\n    <div className=\"checkbox_container\">\r\n      <div className=\"checkbox_connection\" onClick={handleConnectionTypeChange}>\r\n        {connectOnlyWithAudio && (\r\n          <img className=\"checkbox_image\" src={CheckImg}></img>\r\n        )}\r\n      </div>\r\n      <p className=\"checkbox_container_paragraph\">Only audio</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OnlyWithAudioCheckbox;\r\n","import React from \"react\";\r\n\r\nconst ErrorMessage = ({ errorMessage }) => {\r\n  return (\r\n    <div className=\"error_message_container\">\r\n      {errorMessage && (\r\n        <p className=\"error_message_paragraph\">{errorMessage}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Button = ({ buttonText, cancelButton = false, onClickHandler }) => {\r\n  const buttonClass = cancelButton\r\n    ? \"join_room_cancel_button\"\r\n    : \"join_room_success_button\";\r\n\r\n  return (\r\n    <button onClick={onClickHandler} className={buttonClass}>\r\n      {buttonText}\r\n    </button>\r\n  );\r\n};\r\n\r\nconst JoinRoomButtons = ({ handleJoinRoom, isRoomHost }) => {\r\n  const successButtonText = isRoomHost ? \"Host\" : \"Join\";\r\n\r\n  const history = useHistory();\r\n\r\n  const pushToIntroductionPage = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"join_room_buttons_container\">\r\n      <Button buttonText={successButtonText} onClickHandler={handleJoinRoom} />\r\n      <Button\r\n        buttonText=\"Cancel\"\r\n        cancelButton\r\n        onClickHandler={pushToIntroductionPage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JoinRoomButtons;\r\n","import axios from \"axios\";\r\n\r\nconst serverApi = \"http://localhost:5002/api\";\r\n\r\nexport const getRoomExists = async (roomId) => {\r\n  const response = await axios.get(`${serverApi}/room-exists/${roomId}`);\r\n  return response.data;\r\n};\r\n\r\nexport const getTURNCredentials = async () => {\r\n  const response = await axios.get(`${serverApi}/get-turn-credentials`);\r\n  return response.data;\r\n};\r\n","import React, { useState } from \"react\";\r\nimport JoinRoomInputs from \"./JoinRoomInputs\";\r\nimport { connect } from \"react-redux\";\r\nimport OnlyWithAudioCheckbox from \"./OnlyWithAudioCheckbox\";\r\nimport {\r\n  setConnectOnlyWithAudio,\r\n  setIdentity,\r\n  setRoomId,\r\n} from \"../store/actions\";\r\nimport ErrorMessage from \"./ErrorMessage\";\r\nimport JoinRoomButtons from \"./JoinRoomButtons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getRoomExists } from \"../utils/api\";\r\n\r\nconst JoinRoomContent = (props) => {\r\n  const {\r\n    isRoomHost,\r\n    setConnectOnlyWithAudio,\r\n    connectOnlyWithAudio,\r\n    setIdentityAction,\r\n    setRoomIdAction,\r\n  } = props;\r\n\r\n  const [roomIdValue, setRoomIdValue] = useState(\"\");\r\n  const [nameValue, setNameValue] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  const history = useHistory();\r\n\r\n  const handleJoinRoom = async () => {\r\n    setIdentityAction(nameValue);\r\n    if (isRoomHost) {\r\n      createRoom();\r\n    } else {\r\n      await joinRoom();\r\n    }\r\n  };\r\n\r\n  const joinRoom = async () => {\r\n    const responseMessage = await getRoomExists(roomIdValue);\r\n\r\n    const { roomExists, full } = responseMessage;\r\n\r\n    if (roomExists) {\r\n      if (full) {\r\n        setErrorMessage(\"Meeting is full. Please try again later.\");\r\n      } else {\r\n        // join a room !\r\n        setRoomIdAction(roomIdValue);\r\n        history.push(\"/room\");\r\n      }\r\n    } else {\r\n      setErrorMessage(\"Meeting not found. Check your meeting id.\");\r\n    }\r\n  };\r\n\r\n  const createRoom = () => {\r\n    history.push(\"/room\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <JoinRoomInputs\r\n        roomIdValue={roomIdValue}\r\n        setRoomIdValue={setRoomIdValue}\r\n        nameValue={nameValue}\r\n        setNameValue={setNameValue}\r\n        isRoomHost={isRoomHost}\r\n      />\r\n      <OnlyWithAudioCheckbox\r\n        setConnectOnlyWithAudio={setConnectOnlyWithAudio}\r\n        connectOnlyWithAudio={connectOnlyWithAudio}\r\n      />\r\n      <ErrorMessage errorMessage={errorMessage} />\r\n      <JoinRoomButtons\r\n        handleJoinRoom={handleJoinRoom}\r\n        isRoomHost={isRoomHost}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    setConnectOnlyWithAudio: (onlyWithAudio) =>\r\n      dispatch(setConnectOnlyWithAudio(onlyWithAudio)),\r\n    setIdentityAction: (identity) => dispatch(setIdentity(identity)),\r\n    setRoomIdAction: (roomId) => dispatch(setRoomId(roomId)),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStoreStateToProps,\r\n  mapActionsToProps\r\n)(JoinRoomContent);\r\n","import React, { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { setIsRoomHost } from \"../store/actions\";\r\nimport JoinRoomTitle from \"./JoinRoomTitle\";\r\nimport JoinRoomContent from \"./JoinRoomContent\";\r\n\r\nimport \"./JoinRoomPage.css\";\r\n\r\nconst JoinRoomPage = (props) => {\r\n  const { setIsRoomHostAction, isRoomHost } = props;\r\n\r\n  const search = useLocation().search;\r\n\r\n  useEffect(() => {\r\n    const isRoomHost = new URLSearchParams(search).get(\"host\");\r\n    if (isRoomHost) {\r\n      setIsRoomHostAction(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"join_room_page_container\">\r\n      <div className=\"join_room_page_panel\">\r\n        <JoinRoomTitle isRoomHost={isRoomHost} />\r\n        <JoinRoomContent />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    setIsRoomHostAction: (isRoomHost) => dispatch(setIsRoomHost(isRoomHost)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps, mapActionsToProps)(JoinRoomPage);\r\n","import React from \"react\";\n\nconst ChatLabel = () => {\n  return (\n    <div className=\"chat_label_container\">\n      <p className=\"chat_label_paragraph\">CHAT</p>\n    </div>\n  );\n};\n\nexport default ChatLabel;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nconst Message = ({ author, content, sameAuthor, messageCreatedByMe }) => {\n  const alignClass = messageCreatedByMe\n    ? \"message_align_right\"\n    : \"message_align_left\";\n\n  const authorText = messageCreatedByMe ? \"You\" : author;\n\n  const contentAdditionalStyles = messageCreatedByMe\n    ? \"message_right_styles\"\n    : \"message_left_styles\";\n\n  return (\n    <div className={`message_container ${alignClass}`}>\n      {!sameAuthor && <p className=\"message_title\">{authorText}</p>}\n      <p className={`message_content ${contentAdditionalStyles}`}>{content}</p>\n    </div>\n  );\n};\n\nconst Messages = ({ messages }) => {\n  return (\n    <div className=\"messages_container\">\n      {messages.map((message, index) => {\n        const sameAuthor =\n          index > 0 && message.identity === messages[index - 1].identity;\n\n        return (\n          <Message\n            key={`${message.content}${index}`}\n            author={message.identity}\n            content={message.content}\n            sameAuthor={sameAuthor}\n            messageCreatedByMe={message.messageCreatedByMe}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nconst mapStoreStateToProps = (state) => {\n  return {\n    ...state,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(Messages);\n","export default __webpack_public_path__ + \"static/media/sendMessageButton.9add4f6d.svg\";","import Actions from \"./actions\";\r\n\r\nconst initState = {\r\n  identity: \"\",\r\n  isRoomHost: false,\r\n  connectOnlyWithAudio: false,\r\n  roomId: null,\r\n  showOverlay: true,\r\n  participants: [],\r\n  messages: [],\r\n  activeConversation: null,\r\n  directChatHistory: [],\r\n  socketId: null\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case Actions.SET_IS_ROOM_HOST:\r\n      return {\r\n        ...state,\r\n        isRoomHost: action.isRoomHost,\r\n      };\r\n    case Actions.SET_CONNECT_ONLY_WITH_AUDIO:\r\n      return {\r\n        ...state,\r\n        connectOnlyWithAudio: action.onlyWithAudio,\r\n      };\r\n    case Actions.SET_ROOM_ID:\r\n      return {\r\n        ...state,\r\n        roomId: action.roomId,\r\n      };\r\n    case Actions.SET_IDENTITY:\r\n      return {\r\n        ...state,\r\n        identity: action.identity,\r\n      };\r\n    case Actions.SET_SHOW_OVERLAY:\r\n      return {\r\n        ...state,\r\n        showOverlay: action.showOverlay,\r\n      };\r\n    case Actions.SET_PARTICIPANTS:\r\n      return {\r\n        ...state,\r\n        participants: action.participants,\r\n      };\r\n    case Actions.SET_MESSAGES:\r\n      return {\r\n        ...state,\r\n        messages: action.messages,\r\n      };\r\n    case Actions.SET_ACTIVE_CONVERSATION:\r\n      return {\r\n        ...state,\r\n        activeConversation: action.activeConversation\r\n      }\r\n    case Actions.SET_DIRECT_CHAT_HISTORY:\r\n      return {\r\n        ...state,\r\n        directChatHistory: action.directChatHistory\r\n      };\r\n    case Actions.SET_SOCKET_ID:\r\n      return {\r\n        ...state,\r\n        socketId: action.socketId\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport reducer from \"./reducer\";\n\nexport const store = configureStore({\n  reducer: reducer,\n});\n\nexport default store;\n","import { setDirectChatHistory } from \"../store/actions\";\r\nimport store from \"../store/store\";\r\n\r\nexport const appendNewMessageToChatHistory = (data) => {\r\n  const { isAuthor, receiverSocketId, authorSocketId } = data;\r\n\r\n  if (isAuthor) {\r\n    appendMessageToChatHistory(receiverSocketId, data);\r\n  } else {\r\n    appendMessageToChatHistory(authorSocketId, data);\r\n  }\r\n};\r\n\r\nconst appendMessageToChatHistory = (userSocketId, data) => {\r\n  const chatHistory = [...store.getState().directChatHistory];\r\n\r\n  const userChatHistory = chatHistory.find((h) => h.socketId === userSocketId);\r\n\r\n  if (userChatHistory) {\r\n    const newDirectMessage = {\r\n      isAuthor: data.isAuthor,\r\n      messageContent: data.messageContent,\r\n      identity: data.identity,\r\n    };\r\n\r\n    const newUserChatHistory = {\r\n      ...userChatHistory,\r\n      chatHistory: [...userChatHistory.chatHistory, newDirectMessage],\r\n    };\r\n\r\n    const newChatHistory = [\r\n      ...chatHistory.filter((h) => h.socketId !== userSocketId),\r\n      newUserChatHistory,\r\n    ];\r\n\r\n    store.dispatch(setDirectChatHistory(newChatHistory));\r\n  } else {\r\n    const newUserChatHistory = {\r\n      socketId: userSocketId,\r\n      chatHistory: [\r\n        {\r\n          isAuthor: data.isAuthor,\r\n          messageContent: data.messageContent,\r\n          identity: data.identity,\r\n        },\r\n      ],\r\n    };\r\n\r\n    const newChatHistory = [...chatHistory, newUserChatHistory];\r\n\r\n    store.dispatch(setDirectChatHistory(newChatHistory));\r\n  }\r\n};\r\n","import io from \"socket.io-client\";\r\nimport { setRoomId, setParticipants, setSocketId } from \"../store/actions\";\r\nimport store from \"../store/store\";\r\nimport * as webRTCHandler from \"./webRTCHandler\";\r\nimport { appendNewMessageToChatHistory } from \"./directMessages\";\r\n\r\nconst SERVER = \"http://localhost:5002\";\r\n\r\nlet socket = null;\r\n\r\nexport const connectWithSocketIOServer = () => {\r\n  socket = io(SERVER);\r\n\r\n  socket.on(\"connect\", () => {\r\n    console.log(\"successfully connected with socket io server\");\r\n    console.log(socket.id);\r\n    store.dispatch(setSocketId(socket.id));\r\n  });\r\n\r\n  socket.on(\"room-id\", (data) => {\r\n    const { roomId } = data;\r\n    store.dispatch(setRoomId(roomId));\r\n  });\r\n\r\n  socket.on(\"room-update\", (data) => {\r\n    const { connectedUsers } = data;\r\n    store.dispatch(setParticipants(connectedUsers));\r\n  });\r\n\r\n  socket.on(\"conn-prepare\", (data) => {\r\n    const { connUserSocketId } = data;\r\n\r\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, false);\r\n\r\n    // inform the user which just join the room that we have prepared for incoming connection\r\n    socket.emit(\"conn-init\", { connUserSocketId: connUserSocketId });\r\n  });\r\n\r\n  socket.on(\"conn-signal\", (data) => {\r\n    webRTCHandler.handleSignalingData(data);\r\n  });\r\n\r\n  socket.on(\"conn-init\", (data) => {\r\n    const { connUserSocketId } = data;\r\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, true);\r\n  });\r\n\r\n  socket.on(\"user-disconnected\", (data) => {\r\n    webRTCHandler.removePeerConnection(data);\r\n  });\r\n\r\n  socket.on(\"direct-message\", (data) => {\r\n    appendNewMessageToChatHistory(data);\r\n  });\r\n};\r\n\r\nexport const createNewRoom = (identity, onlyAudio) => {\r\n  // emit an event to server that we would like to create new room\r\n  const data = {\r\n    identity,\r\n    onlyAudio,\r\n  };\r\n\r\n  socket.emit(\"create-new-room\", data);\r\n};\r\n\r\nexport const joinRoom = (identity, roomId, onlyAudio) => {\r\n  //emit an event to server that we would to join a room\r\n  const data = {\r\n    roomId,\r\n    identity,\r\n    onlyAudio,\r\n  };\r\n\r\n  socket.emit(\"join-room\", data);\r\n};\r\n\r\nexport const signalPeerData = (data) => {\r\n  socket.emit(\"conn-signal\", data);\r\n};\r\n\r\nexport const sendDirectMessage = (data) => {\r\n  socket.emit(\"direct-message\", data);\r\n};\r\n","import * as api from \"./api\";\n\nlet TURNIceServers = null;\n\nexport const fetchTURNCredentials = async () => {\n  const responseData = await api.getTURNCredentials();\n\n  if (responseData.token?.iceServers) {\n    TURNIceServers = responseData.token.iceServers;\n  }\n\n  return TURNIceServers;\n};\n\nexport const getTurnIceServers = () => {\n  return TURNIceServers;\n};\n","import { setShowOverlay, setMessages } from \"../store/actions\";\r\nimport store from \"../store/store\";\r\nimport * as wss from \"./wss\";\r\nimport Peer from \"simple-peer\";\r\nimport { fetchTURNCredentials, getTurnIceServers } from \"./turn\";\r\n\r\nconst defaultConstraints = {\r\n  audio: true,\r\n  video: {\r\n    width: \"480\",\r\n    height: \"360\",\r\n  },\r\n};\r\n\r\nconst onlyAudioConstraints = {\r\n  audio: true,\r\n  video: false,\r\n};\r\n\r\nlet localStream;\r\n\r\nexport const getLocalPreviewAndInitRoomConnection = async (\r\n  isRoomHost,\r\n  identity,\r\n  roomId = null,\r\n  onlyAudio\r\n) => {\r\n  await fetchTURNCredentials();\r\n\r\n  const constraints = onlyAudio ? onlyAudioConstraints : defaultConstraints;\r\n\r\n  navigator.mediaDevices\r\n    .getUserMedia(constraints)\r\n    .then((stream) => {\r\n      console.log(\"successfuly received local stream\");\r\n      localStream = stream;\r\n      showLocalVideoPreview(localStream);\r\n\r\n      // dispatch an action to hide overlay\r\n      store.dispatch(setShowOverlay(false));\r\n\r\n      isRoomHost\r\n        ? wss.createNewRoom(identity, onlyAudio)\r\n        : wss.joinRoom(identity, roomId, onlyAudio);\r\n    })\r\n    .catch((err) => {\r\n      console.log(\r\n        \"error occurred when trying to get an access to local stream\"\r\n      );\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nlet peers = {};\r\nlet streams = [];\r\n\r\nconst getConfiguration = () => {\r\n  const turnIceServers = getTurnIceServers();\r\n\r\n  if (turnIceServers) {\r\n    return {\r\n      iceServers: [\r\n        {\r\n          urls: \"stun:stun.l.google.com:19302\",\r\n        },\r\n        ...turnIceServers,\r\n      ],\r\n    };\r\n  } else {\r\n    console.warn(\"Using only STUN server\");\r\n    return {\r\n      iceServers: [\r\n        {\r\n          urls: \"stun:stun.l.google.com:19302\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n};\r\n\r\nconst messengerChannel = \"messenger\";\r\n\r\nexport const prepareNewPeerConnection = (connUserSocketId, isInitiator) => {\r\n  const configuration = getConfiguration();\r\n\r\n  peers[connUserSocketId] = new Peer({\r\n    initiator: isInitiator,\r\n    config: configuration,\r\n    stream: localStream,\r\n    channelName: messengerChannel,\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"signal\", (data) => {\r\n    // webRTC offer, webRTC Answer (SDP informations), ice candidates\r\n\r\n    const signalData = {\r\n      signal: data,\r\n      connUserSocketId: connUserSocketId,\r\n    };\r\n\r\n    wss.signalPeerData(signalData);\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"stream\", (stream) => {\r\n    console.log(\"new stream came\");\r\n\r\n    addStream(stream, connUserSocketId);\r\n    streams = [...streams, stream];\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"data\", (data) => {\r\n    const messageData = JSON.parse(data);\r\n    appendNewMessage(messageData);\r\n  });\r\n};\r\n\r\nexport const handleSignalingData = (data) => {\r\n  //add signaling data to peer connection\r\n  peers[data.connUserSocketId].signal(data.signal);\r\n};\r\n\r\nexport const removePeerConnection = (data) => {\r\n  const { socketId } = data;\r\n  const videoContainer = document.getElementById(socketId);\r\n  const videoEl = document.getElementById(`${socketId}-video`);\r\n\r\n  if (videoContainer && videoEl) {\r\n    const tracks = videoEl.srcObject.getTracks();\r\n\r\n    tracks.forEach((t) => t.stop());\r\n\r\n    videoEl.srcObject = null;\r\n    videoContainer.removeChild(videoEl);\r\n\r\n    videoContainer.parentNode.removeChild(videoContainer);\r\n\r\n    if (peers[socketId]) {\r\n      peers[socketId].destroy();\r\n    }\r\n    delete peers[socketId];\r\n  }\r\n};\r\n\r\n////////////////////////////////// UI Videos //////////////////////////////////\r\nconst showLocalVideoPreview = (stream) => {\r\n  const videosContainer = document.getElementById(\"videos_portal\");\r\n  videosContainer.classList.add(\"videos_portal_styles\");\r\n  const videoContainer = document.createElement(\"div\");\r\n  videoContainer.classList.add(\"video_track_container\");\r\n  const videoElement = document.createElement(\"video\");\r\n  videoElement.autoplay = true;\r\n  videoElement.muted = true;\r\n  videoElement.srcObject = stream;\r\n\r\n  videoElement.onloadedmetadata = () => {\r\n    videoElement.play();\r\n  };\r\n\r\n  videoContainer.appendChild(videoElement);\r\n\r\n  if (store.getState().connectOnlyWithAudio) {\r\n    videoContainer.appendChild(getAudioOnlyLabel());\r\n  }\r\n\r\n  videosContainer.appendChild(videoContainer);\r\n};\r\n\r\nconst addStream = (stream, connUserSocketId) => {\r\n  //display incoming stream\r\n  const videosContainer = document.getElementById(\"videos_portal\");\r\n  const videoContainer = document.createElement(\"div\");\r\n  videoContainer.id = connUserSocketId;\r\n\r\n  videoContainer.classList.add(\"video_track_container\");\r\n  const videoElement = document.createElement(\"video\");\r\n  videoElement.autoplay = true;\r\n  videoElement.srcObject = stream;\r\n  videoElement.id = `${connUserSocketId}-video`;\r\n\r\n  videoElement.onloadedmetadata = () => {\r\n    videoElement.play();\r\n  };\r\n\r\n  videoElement.addEventListener(\"click\", () => {\r\n    if (videoElement.classList.contains(\"full_screen\")) {\r\n      videoElement.classList.remove(\"full_screen\");\r\n    } else {\r\n      videoElement.classList.add(\"full_screen\");\r\n    }\r\n  });\r\n\r\n  videoContainer.appendChild(videoElement);\r\n\r\n  // check if other user connected only with audio\r\n  const participants = store.getState().participants;\r\n\r\n  const participant = participants.find((p) => p.socketId === connUserSocketId);\r\n  console.log(participant);\r\n  if (participant?.onlyAudio) {\r\n    videoContainer.appendChild(getAudioOnlyLabel(participant.identity));\r\n  } else {\r\n    videoContainer.style.position = \"static\";\r\n  }\r\n\r\n  videosContainer.appendChild(videoContainer);\r\n};\r\n\r\nconst getAudioOnlyLabel = (identity = \"\") => {\r\n  const labelContainer = document.createElement(\"div\");\r\n  labelContainer.classList.add(\"label_only_audio_container\");\r\n\r\n  const label = document.createElement(\"p\");\r\n  label.classList.add(\"label_only_audio_text\");\r\n  label.innerHTML = `Only audio ${identity}`;\r\n\r\n  labelContainer.appendChild(label);\r\n  return labelContainer;\r\n};\r\n\r\n////////////////////////////////// Buttons logic //////////////////////////////////\r\n\r\nexport const toggleMic = (isMuted) => {\r\n  localStream.getAudioTracks()[0].enabled = isMuted ? true : false;\r\n};\r\n\r\nexport const toggleCamera = (isDisabled) => {\r\n  localStream.getVideoTracks()[0].enabled = isDisabled ? true : false;\r\n};\r\n\r\nexport const toggleScreenShare = (\r\n  isScreenSharingActive,\r\n  screenSharingStream = null\r\n) => {\r\n  if (isScreenSharingActive) {\r\n    switchVideoTracks(localStream);\r\n  } else {\r\n    switchVideoTracks(screenSharingStream);\r\n  }\r\n};\r\n\r\nconst switchVideoTracks = (stream) => {\r\n  for (let socket_id in peers) {\r\n    for (let index in peers[socket_id].streams[0].getTracks()) {\r\n      for (let index2 in stream.getTracks()) {\r\n        if (\r\n          peers[socket_id].streams[0].getTracks()[index].kind ===\r\n          stream.getTracks()[index2].kind\r\n        ) {\r\n          peers[socket_id].replaceTrack(\r\n            peers[socket_id].streams[0].getTracks()[index],\r\n            stream.getTracks()[index2],\r\n            peers[socket_id].streams[0]\r\n          );\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n////////////////////////////////// Messages /////////////////////////////////////\r\nconst appendNewMessage = (messageData) => {\r\n  const messages = store.getState().messages;\r\n  store.dispatch(setMessages([...messages, messageData]));\r\n};\r\n\r\nexport const sendMessageUsingDataChannel = (messageContent) => {\r\n  // append this message locally\r\n  const identity = store.getState().identity;\r\n\r\n  const localMessageData = {\r\n    content: messageContent,\r\n    identity,\r\n    messageCreatedByMe: true,\r\n  };\r\n\r\n  appendNewMessage(localMessageData);\r\n\r\n  const messageData = {\r\n    content: messageContent,\r\n    identity,\r\n  };\r\n\r\n  const stringifiedMessageData = JSON.stringify(messageData);\r\n  for (let socketId in peers) {\r\n    peers[socketId].send(stringifiedMessageData);\r\n  }\r\n};\r\n","import React, { useState } from \"react\";\nimport SendMessageButton from \"../../resources/images/sendMessageButton.svg\";\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\n\nconst NewMessage = () => {\n  const [message, setMessage] = useState(\"\");\n\n  const handleTextChange = (event) => {\n    setMessage(event.target.value);\n  };\n\n  const handleKeyPressed = (event) => {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n\n      // send message to other users\n      sendMessage();\n    }\n  };\n\n  const sendMessage = () => {\n    if (message.length > 0) {\n      webRTCHandler.sendMessageUsingDataChannel(message);\n      setMessage(\"\");\n    }\n  };\n\n  return (\n    <div className=\"new_message_container\">\n      <input\n        className=\"new_message_input\"\n        value={message}\n        onChange={handleTextChange}\n        placeholder=\"Type your message ...\"\n        type=\"text\"\n        onKeyDown={handleKeyPressed}\n      />\n      <img\n        className=\"new_message_button\"\n        src={SendMessageButton}\n        onClick={sendMessage}\n      />\n    </div>\n  );\n};\n\nexport default NewMessage;\n","import React from \"react\";\r\nimport ChatLabel from \"./ChatLabel\";\r\nimport Messages from \"./Messages\";\r\nimport NewMessage from \"./NewMessage\";\r\n\r\nconst ChatSection = () => {\r\n  return (\r\n    <div className=\"chat_section_container\">\r\n      <ChatLabel />\r\n      <Messages />\r\n      <NewMessage />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatSection;\r\n","import React from \"react\";\r\n\r\nconst ParticipantsLabel = () => {\r\n  return (\r\n    <div className=\"participants_label_container\">\r\n      <p className=\"participants_label_paragraph\">PARTICIPANTS</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParticipantsLabel;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setActiveConversation } from \"../../store/actions\";\r\n\r\nconst SingleParticipant = (props) => {\r\n  const {\r\n    identity,\r\n    lastItem,\r\n    participant,\r\n    setActiveConversationAction,\r\n    socketId,\r\n  } = props;\r\n\r\n  const handleOpenActiveChatbox = () => {\r\n    if (participant.socketId !== socketId) {\r\n      setActiveConversationAction(participant);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <p className=\"participants_paragraph\" onClick={handleOpenActiveChatbox}>\r\n        {identity}\r\n      </p>\r\n      {!lastItem && <span className=\"participants_separator_line\"></span>}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Participants = ({\r\n  participants,\r\n  setActiveConversationAction,\r\n  socketId,\r\n}) => {\r\n  return (\r\n    <div className=\"participants_container\">\r\n      {participants.map((participant, index) => {\r\n        return (\r\n          <SingleParticipant\r\n            key={participant.identity}\r\n            lastItem={participants.length === index + 1}\r\n            participant={participant}\r\n            identity={participant.identity}\r\n            setActiveConversationAction={setActiveConversationAction}\r\n            socketId={socketId}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    setActiveConversationAction: (activeConversation) =>\r\n      dispatch(setActiveConversation(activeConversation)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps, mapActionsToProps)(Participants);\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\nconst SingleMessage = ({ isAuthor, messageContent }) => {\r\n  const messageStyling = isAuthor\r\n    ? \"author_direct_message\"\r\n    : \"receiver_direct_message\";\r\n\r\n  const containerStyling = isAuthor\r\n    ? \"direct_message_container_author\"\r\n    : \"direct_message_container_receiver\";\r\n\r\n  return (\r\n    <div className={containerStyling}>\r\n      <p className={messageStyling}>{messageContent}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MessagesContainer = ({ messages }) => {\r\n  const scrollRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (scrollRef) {\r\n      scrollRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n  }, [messages]);\r\n\r\n  return (\r\n    <div className=\"direct_messages_container\">\r\n      {messages.map((message) => {\r\n        return (\r\n          <SingleMessage\r\n            messageContent={message.messageContent}\r\n            isAuthor={message.isAuthor}\r\n            key={`${message.messageContent}-${message.identity}`}\r\n          />\r\n        );\r\n      })}\r\n      <div ref={scrollRef}></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessagesContainer;\r\n","import React, { useState } from \"react\";\r\nimport sendMessageButton from \"../../../resources/images/sendMessageButton.svg\";\r\nimport * as wss from \"../../../utils/wss\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst NewMessage = ({ activeConversation, identity }) => {\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const sendMessage = () => {\r\n    wss.sendDirectMessage({\r\n      receiverSocketId: activeConversation.socketId,\r\n      identity: identity,\r\n      messageContent: message,\r\n    });\r\n\r\n    setMessage(\"\");\r\n  };\r\n\r\n  const handleTextChange = (event) => {\r\n    setMessage(event.target.value);\r\n  };\r\n\r\n  const handleKeyPressed = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      event.preventDefault();\r\n      sendMessage();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"new_message_container new_message_direct_border\">\r\n      <input\r\n        className=\"new_message_input\"\r\n        value={message}\r\n        onChange={handleTextChange}\r\n        placeholder=\"Type your message..\"\r\n        type=\"text\"\r\n        onKeyDown={handleKeyPressed}\r\n      />\r\n      <img\r\n        className=\"new_message_button\"\r\n        src={sendMessageButton}\r\n        onClick={sendMessage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(NewMessage);\r\n","import React from 'react';\r\n\r\nconst ConversationNotChosen = () => {\r\n    return (\r\n        <div className='conversation_not_chosen_overlay'>\r\n            <p className='conversation_not_chosen_overlay_text'>\r\n                Conversation not chosen\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ConversationNotChosen;","import React from 'react';\r\n\r\nconst DirectChatHeader = ({ activeConversation }) => {\r\n    return (\r\n        <div className='direct_chat_header'>\r\n            <p className='direct_chat_header_paragraph'>\r\n                {activeConversation ? activeConversation.identity : ''}\r\n            </p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DirectChatHeader;","import React, { useState, useEffect } from \"react\";\r\nimport MessagesContainer from \"./MessagesContainer\";\r\nimport NewMessage from \"./NewMessage\";\r\nimport ConversationNotChosen from \"./ConversationNotChosen\";\r\nimport { connect } from \"react-redux\";\r\nimport DirectChatHeader from \"./DirectChatHeader\";\r\n\r\nconst getDirectChatHistory = (directChatHistory, socketId = null) => {\r\n  console.log(directChatHistory);\r\n  console.log(socketId);\r\n  if (!socketId || !directChatHistory) {\r\n    return [];\r\n  }\r\n\r\n  const history = directChatHistory.find((h) => h.socketId === socketId);\r\n\r\n  return history ? history.chatHistory : [];\r\n};\r\n\r\nconst DirectChat = ({ activeConversation, directChatHistory }) => {\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setMessages(\r\n      getDirectChatHistory(\r\n        directChatHistory,\r\n        activeConversation ? activeConversation.socketId : null\r\n      )\r\n    );\r\n  }, [activeConversation, directChatHistory]);\r\n\r\n  return (\r\n    <div className=\"direct_chat_container\">\r\n      <DirectChatHeader activeConversation={activeConversation} />\r\n      <MessagesContainer messages={messages} />\r\n      <NewMessage />\r\n      {!activeConversation && <ConversationNotChosen />}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(DirectChat);\r\n","import React from \"react\";\r\nimport ParticipantsLabel from \"./ParticipantsLabel\";\r\nimport Participants from \"./Participants\";\r\nimport DirectChat from './DirectChat/DirectChat';\r\n\r\nconst ParticipantsSection = () => {\r\n  return (\r\n    <div className=\"participants_section_container\">\r\n      <ParticipantsLabel />\r\n      <Participants />\r\n      <DirectChat />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParticipantsSection;\r\n","export default __webpack_public_path__ + \"static/media/camera.b50348a3.svg\";","export default __webpack_public_path__ + \"static/media/cameraOff.a61d4a02.svg\";","import React, { useState } from \"react\";\r\n\r\nimport CameraButtonImg from \"../../resources/images/camera.svg\";\r\nimport CameraButtonImgOff from \"../../resources/images/cameraOff.svg\";\r\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\r\n\r\nconst CameraButton = () => {\r\n  const [isLocalVideoDisabled, setIsLocalVideoDisabled] = useState(false);\r\n\r\n  const handleCameraButtonPressed = () => {\r\n    webRTCHandler.toggleCamera(isLocalVideoDisabled);\r\n\r\n    setIsLocalVideoDisabled(!isLocalVideoDisabled);\r\n  };\r\n\r\n  return (\r\n    <div className=\"video_button_container\">\r\n      <img\r\n        src={isLocalVideoDisabled ? CameraButtonImgOff : CameraButtonImg}\r\n        className=\"video_button_image\"\r\n        onClick={handleCameraButtonPressed}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CameraButton;\r\n","import React from \"react\";\r\n\r\nconst LeaveRoomButton = () => {\r\n  const handleRoomDisconnection = () => {\r\n    const siteUrl = window.location.origin;\r\n    window.location.href = siteUrl;\r\n  };\r\n\r\n  return (\r\n    <div className=\"video_button_container\">\r\n      <button className=\"video_button_end\" onClick={handleRoomDisconnection}>\r\n        Leave Room\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeaveRoomButton;\r\n","export default __webpack_public_path__ + \"static/media/mic.c9c9788e.svg\";","export default __webpack_public_path__ + \"static/media/micOff.3a72f682.svg\";","import React, { useState } from \"react\";\r\nimport MicButtonImg from \"../../resources/images/mic.svg\";\r\nimport MicButtonImgOff from \"../../resources/images/micOff.svg\";\r\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\r\n\r\nconst MicButton = () => {\r\n  const [isMicMuted, setIsMicMuted] = useState(false);\r\n\r\n  const handleMicButtonPressed = () => {\r\n    webRTCHandler.toggleMic(isMicMuted);\r\n\r\n    setIsMicMuted(!isMicMuted);\r\n  };\r\n\r\n  return (\r\n    <div className=\"video_button_container\">\r\n      <img\r\n        src={isMicMuted ? MicButtonImgOff : MicButtonImg}\r\n        onClick={handleMicButtonPressed}\r\n        className=\"video_button_image\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MicButton;\r\n","export default __webpack_public_path__ + \"static/media/switchToScreenSharing.900d9338.svg\";","import React, { useRef, useEffect } from \"react\";\n\nconst LocalScreenSharingPreview = ({ stream }) => {\n  const localPreviewRef = useRef();\n\n  useEffect(() => {\n    const video = localPreviewRef.current;\n\n    video.srcObject = stream;\n\n    video.onloadedmetadata = () => {\n      video.play();\n    };\n  }, [stream]);\n\n  return (\n    <div className=\"local_screen_share_preview\">\n      <video muted autoPlay ref={localPreviewRef}></video>\n    </div>\n  );\n};\n\nexport default LocalScreenSharingPreview;\n","import React, { useState } from \"react\";\r\nimport SwitchImg from \"../../resources/images/switchToScreenSharing.svg\";\r\nimport LocalScreenSharingPreview from \"./LocalScreenSharingPreview\";\r\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\r\n\r\nconst constraints = {\r\n  audio: false,\r\n  video: true,\r\n};\r\n\r\nconst SwitchToScreenSharingButton = () => {\r\n  const [isScreenSharingActive, setIsScreenSharingActive] = useState(false);\r\n  const [screenSharingStream, setScreenSharingStream] = useState(null);\r\n\r\n  const handleScreenShareToggle = async () => {\r\n    if (!isScreenSharingActive) {\r\n      let stream = null;\r\n      try {\r\n        stream = await navigator.mediaDevices.getDisplayMedia(constraints);\r\n      } catch (err) {\r\n        console.log(\r\n          \"error occurred when trying to get an access to screen share stream\"\r\n        );\r\n      }\r\n      if (stream) {\r\n        setScreenSharingStream(stream);\r\n\r\n        webRTCHandler.toggleScreenShare(isScreenSharingActive, stream);\r\n        setIsScreenSharingActive(true);\r\n        // execute here function to switch the video track which we are sending to other users\r\n      }\r\n    } else {\r\n      webRTCHandler.toggleScreenShare(isScreenSharingActive);\r\n      setIsScreenSharingActive(false);\r\n\r\n      // stop screen share stream\r\n      screenSharingStream.getTracks().forEach((t) => t.stop());\r\n      setScreenSharingStream(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"video_button_container\">\r\n        <img\r\n          src={SwitchImg}\r\n          onClick={handleScreenShareToggle}\r\n          className=\"video_button_image\"\r\n        />\r\n      </div>\r\n      {isScreenSharingActive && (\r\n        <LocalScreenSharingPreview stream={screenSharingStream} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SwitchToScreenSharingButton;\r\n","import React from \"react\";\r\nimport CameraButton from \"./CameraButton\";\r\nimport LeaveRoomButton from \"./LeaveRoomButton\";\r\nimport MicButton from \"./MicButton\";\r\nimport SwitchToScreenSharingButton from \"./SwitchToScreenSharingButton\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst VideoButtons = (props) => {\r\n  const { connectOnlyWithAudio } = props;\r\n\r\n  return (\r\n    <div className=\"video_buttons_container\">\r\n      <MicButton />\r\n      {!connectOnlyWithAudio && <CameraButton />}\r\n      <LeaveRoomButton />\r\n      {!connectOnlyWithAudio && <SwitchToScreenSharingButton />}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(VideoButtons);\r\n","import React from \"react\";\r\nimport VideoButtons from \"./VideoButtons\";\r\n\r\nconst VideoSection = () => {\r\n  return (\r\n    <div className=\"video_section_container\">\r\n      <VideoButtons />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoSection;\r\n","import React from \"react\";\r\n\r\nconst RoomLabel = ({ roomId }) => {\r\n  return (\r\n    <div className=\"room_label\">\r\n      <p className=\"room_label_paragraph\">ID: {roomId} </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomLabel;\r\n","import React from \"react\";\r\n\r\nconst Overlay = () => {\r\n  return (\r\n    <div className=\"overlay_container\">\r\n      <div className=\"loader\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Overlay;\r\n","import React, { useEffect } from \"react\";\r\nimport ChatSection from \"./ChatSection/ChatSection\";\r\nimport ParticipantsSection from \"./ParticipantsSection/ParticipantsSection\";\r\nimport VideoSection from \"./VideoSection/VideoSection\";\r\nimport RoomLabel from \"./RoomLabel\";\r\nimport { connect } from \"react-redux\";\r\nimport * as webRTCHandler from \"../utils/webRTCHandler\";\r\nimport Overlay from \"./Overlay\";\r\n\r\nimport \"./RoomPage.css\";\r\n\r\nconst RoomPage = ({\r\n  roomId,\r\n  identity,\r\n  isRoomHost,\r\n  showOverlay,\r\n  connectOnlyWithAudio,\r\n}) => {\r\n  useEffect(() => {\r\n    if (!isRoomHost && !roomId) {\r\n      const siteUrl = window.location.origin;\r\n      window.location.href = siteUrl;\r\n    } else {\r\n      webRTCHandler.getLocalPreviewAndInitRoomConnection(\r\n        isRoomHost,\r\n        identity,\r\n        roomId,\r\n        connectOnlyWithAudio\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"room_container\">\r\n      <ParticipantsSection />\r\n      <VideoSection />\r\n      <ChatSection />\r\n      <RoomLabel roomId={roomId} />\r\n      {showOverlay && <Overlay />}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(RoomPage);\r\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport IntroductionPage from \"./IntroductionPage/IntroductionPage\";\nimport JoinRoomPage from \"./JoinRoomPage/JoinRoomPage\";\nimport RoomPage from \"./RoomPage/RoomPage\";\nimport { connectWithSocketIOServer } from \"./utils/wss\";\n\nimport \"./App.css\";\n\nfunction App() {\n  useEffect(() => {\n    connectWithSocketIOServer();\n  }, []);\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/join-room\">\n          <JoinRoomPage />\n        </Route>\n        <Route path=\"/room\">\n          <RoomPage />\n        </Route>\n        <Route path=\"/\">\n          <IntroductionPage />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './store/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}